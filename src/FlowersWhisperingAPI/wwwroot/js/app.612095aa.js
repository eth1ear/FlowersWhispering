(function(){"use strict";var e={6043:function(e,t,a){var s=a(5130),n=a(6768),o={__name:"App",setup(e){return(e,t)=>{const a=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(a)}}};const i=o;var r=i,l=a(1387),c=a(782),u=a(4373);const d=u.A.create({baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE_URL||"http://www.p1nkhub.com",headers:{"Content-Type":"application/json"}});var p=d;const m={state:{userInfo:null,isAuthenticated:!1},mutations:{SET_USER_INFO(e,t){e.userInfo=t,e.isAuthenticated=!0},CLEAR_USER_INFO(e){e.userInfo=null,e.isAuthenticated=!1},UPDATE_USER_INFO(e,t){e.userInfo&&(e.userInfo={...e.userInfo,...t})}},actions:{async login({commit:e},{usernameOrEmail:t,password:a}){try{const s=await p.post("/api/UserAccount/login",{username:t,password:a});return 200===s.status&&(e("SET_USER_INFO",s.data),!0)}catch(s){throw console.error("登陆失败:",s.response?.data||s.message),new Error(s.response?.data||"登录失败")}},async register({commit:e},{username:t,email:a,password:s,avatar:n}){const o="zh-CN",i="这家伙很懒，什么都没留下",r="不愿透露";try{const e=await p.post("/api/UserAccount/register",{username:t,email:a,password:s,languagePreference:o,bio:i,avatar:n,gender:r});return 200===e.status||(console.error("注册失败:",e.data),!1)}catch(l){throw console.error("注册失败:",l.response?.data||l.message),new Error(l.response?.data||"注册失败")}},async guestLogin({commit:e}){const t={userId:"-1",username:"游客",email:"guest@example.com",languagePreference:"zh-CN",userState:"guest",userRole:"guest",avatar:a(6873)};return e("SET_USER_INFO",t),!0},logout({commit:e}){e("CLEAR_USER_INFO")},async updateUserInfo({commit:e,state:t},{username:a,email:s,password:n,languagePreference:o,bio:i,avatar:r,gender:l}){if(!t.userInfo)throw new Error("用户未登录");try{const c=await p.put("/api/UserAccount/edit/user",{username:a,password:n,email:s,languagePreference:o,bio:i,avatar:r,gender:l,userId:t.userInfo.userId});return 200===c.status?(e("UPDATE_USER_INFO",{username:a,email:s,password:n,languagePreference:o,bio:i,avatar:r,gender:l}),!0):(console.error("用户信息更新失败:",c.data),!1)}catch(c){throw console.error("用户信息更新失败:",c.response?.data||c.message),new Error(c.response?.data||"用户信息更新失败")}}},getters:{getUserInfo(e){return e.userInfo},isAuthenticated(e){return e.isAuthenticated},isAdmin(e){return"admin"===e.userInfo?.userRole},isGuest(e){return"guest"===e.userInfo?.userState}}};var k=m,g=a(5131),v=(0,c.y$)({modules:{user:k},plugins:[(0,g.A)()]}),h=a(4232),L=a.p+"media/background.9ff7d69b.mp4",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAACDBJREFUeF7tnVFCYjkQRWFlOisTVzbOyphBxWYQqLxKVRLqnv41ebw6N8cLqPR+xz8IQOAugT1sIACB+wQQhNMBgQcEEITjAQEE4QxAwEeABvFxY5cIAQQRCZoxfQQQxMeNXSIEEEQkaMb0EUAQHzd2iRBAEJGgGdNHAEF83NglQgBBRIJmTB8BBPFxY5cIAQQRCZoxfQQQxMeNXSIEEEQkaMb0EUAQHzd2iRBAEJGgGdNHAEF83NglQgBBRIJmTB8BBPFxY5cIAQQRCZoxfQQQxMeNXSIEEEQkaMb0EUAQHzd2iRBAEJGgGdNHAEF83NglQgBBRIJmTB8BBPFxY5cIAQQRCZoxfQQQxMeNXSIEEEQkaMb0EUAQHzd2iRBAEJGgGdNHAEF83NglQgBBRIJmTB8BBPFxY5cIAQQRCZoxfQQQxMeNXSIE9AT55/1tdzy+7l4Pf4lkHDPmx+Hv3X7/sXt5e4+54HNcRUuQLzkO39F8IEnjIT3Jsdu9fq7e7w9KkugI8n85zicDSSxHLuU4rxWSREOQ23IgiUcOMUnqC/JYDiS5J8mt5rheK9AktQVpkwNJrg9+ixwiTVJXkG1yIMkPgYsX5NZTMAFJagrikwNJtjSHyNOteoL0yaErSY8chZukliAxcuhJEiFHUUlqCfJxOLY+bW5cV//nJJFynKG+HsqcqzKDfGYT2yD1myRDjmJv/dYSBEkai/G/XxxBjiZW9QRBEjt45LAZfa+oKQiS3D8AyNEsx2lhXUGQ5PdBQI5NctQXBEn+HAjk2CyHhiBIwgtylxpfm2o/xboEo/oWMM3RoYeSIIpNghxdcmg1yBmVSpMgR7ccmoIoNAlyhMihK0hlSZAjTA5tQSpKghyhciBIJUmQI1wOBKnywh05UuRAkAo/J0GONDkQ5Brts70FjBypciDILbzPIglypMuBIPcQry4JcgyRA0EeYV5VEuQYJgeCWKhXkwQ5rMTCv67z27xedKtIghzeBLv2IUgLvtmSIEdLSilrEKQV6yxJkKM1oZR1CLIF62hJkGNLOilrEWQr1lGSIMfWZFLWI4gHa7YkyOFJJWUPgnixZknydT9f/2Fm1L9iHwcahaXlOgjSQunemhxJeu7o917k6OKJIF340j4wu/euvvYjRzdHBOlGuKgkyBGRrNDnYoXgenCRlZ5uIUdY2jRIGMpFmgQ5IhOlQUJpni42s0mQIzxOGiQc6SRJkCMjSRokheroJkGOtBhpkDS0g5oEOTITpEFS6WY3CXKkx0eDpCNOahLkGJEcDTKEcnSTIMew2GiQYaiDmgQ5RiZGgwyl3dskyDE8LhpkOHJnkyDHjKRokCnUtzYJckyLiQaZhr6xSZBjZkI0yFT6VpMgx/R4aJDpEdxpEuRYIRkaZIkUrpsEOZaJhQZZJorvJjndz8vb+0q3pXwveoKc/l6DQ7j9zIty0xLk8o+ZeBrTLokwNx1Bbv2lH5LYkohz0xDk0Z/BIsl9SeAm8C5Wy9+II8lvSeD2yaR2g7SEfD4aSPJHErj9sKgryJaQkcQnhwC3moJ45BAI23xFDrdfiOoJ0hOysiRwu/n9o5YgESErSgK3u+VaS5CPw9F8GrFlgcIL90g5zmxfD2XOVZlBPrPJCLuyJPAyv13WEgRJzMB/FiBHE6t6giCJHTxy2Iy+V9QUBEl8vz7SfGyuFhZ+GlpXECT5fdxpjs3fAmoLgiR9PyG3jlPh5vh5t99iUOLr6t851efvOMT1G+QMR/WQqM7dIcXlVh1BFJ9uIUe3JlqCKEmCHN1ynC6gJ4iCJMgRIoeuIJUlQY4wObQFqSgJcoTKgSCVJEGOcDkQpMpbwMiRIgeCXGJ91kP2rPeddqRjL6z5LtY9hs922J7tfmPP7pCrIcg15mc5dM9yn0OOcd6DIMgttqsfvtXvL++8Dr8ygjzb0y3kGCoJgjzCvdphXO1+hh7VOQ+GIBb3VQ7lKvdh8Sr2dQRpCXT24Zz9+C2Miq5BkNZgZx3SWY/byqX4OgTZEvDowzr68bawEFmLIFuDHnVoRz3O1vnF1iOIJ/Dsw5t9fc/MonsQxBt81iE+3c/xePDe1s19Ap8+Esrr4mII0kM2Q5Ke+7m1Fzm6iCJIF76kD8zuvafzfuToJokg3QgXlQQ5IpIV/dCGEHRXF1np6RZyhCVMg4ShXKRJkCMyURoklObpYjObBDnC46RBwpFOkgQ5MpKkQVKojm4S5EiLkQZJQzuoSZAjM0EaJJVudpMgR3p8NEg64qQmQY4RydEgQyhHNwlyDIuNBhmGOqhJkGNkYjTIUNq9TYIcw+OiQYYjdzYJcsxIigaZQn1rkyDHtJhokGnoG5sEOWYmRINMpW81CXJMj4cGmR7BnSZBjhWSoUGWSOG6SZBjmVhokGWi+G6S0/28vL2vdFvK94Igyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCaAIMrpM7tJAEFMRCxQJoAgyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCaAIMrpM7tJAEFMRCxQJoAgyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCaAIMrpM7tJAEFMRCxQJoAgyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCaAIMrpM7tJAEFMRCxQJoAgyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCaAIMrpM7tJAEFMRCxQJoAgyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCaAIMrpM7tJAEFMRCxQJoAgyukzu0kAQUxELFAmgCDK6TO7SQBBTEQsUCbwLyn3PgUb1iA+AAAAAElFTkSuQmCC",C=a.p+"img/community.e1afe2ba.png",f=a.p+"img/admin.cd612869.png",P=a.p+"img/book.aed6ffcd.png";const w={class:"common-layout"},y=(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])],-1),A={class:"header"},E=(0,n.Lk)("div",{class:"logo"},"Flowers Whispering",-1),U={class:"nav-user-container"},T={class:"nav-links"},Q={key:0},I={class:"user-info"},D={class:"user-avatar-wrapper"},F=["src"],X={class:"user-info-list"},x={key:0},R={key:1},V=(0,n.Lk)("p",{class:"login-prompt"},"点击登录",-1),M=[V],J={class:"main-content"},B=(0,n.Lk)("div",{class:"introduction-card"},[(0,n.Lk)("h1",null,"Flowers Whispering"),(0,n.Lk)("h2",null,"充满诗意与梦想的园地 植物爱好者们的自留地")],-1),H=(0,n.Lk)("div",{class:"introduction-content"},[(0,n.Lk)("p",null,[(0,n.eW)("花语无声,婉转悠扬。欢迎来到flowerwhispering这里将引导您步入一个由花朵与绿植共织的奇幻世界。"),(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.eW)(" 植物图鉴中蕴藏丰富,每一朵花、每一片叶都有着自己的故事和灵魂。从罕见的野花到庭院中常见的绿植,每一种植物都被赋予了详尽而精美的描述,辅以图片,仿佛置身自然之中,能闻其香、触其绿。"),(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.eW)(" 植物论坛中激情澎湃,汇聚了一群同样热爱植物的朋友们。或是园艺初学者,或是资深植物爱好者,这里都是你们的俱乐部。分享养植经验,交流种植心得,论坛的讨论涵盖从植物照护到景观设计的各个方面,每一个帖子都充满了知识与热情。"),(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.eW)(" 我们信仰植物的力量,相信它们能够治愈心灵、修养身心。我们一起耳倾花语,手播绿意,走入一段宁静的幸福旅程。")])],-1),N=(0,n.Lk)("img",{src:b,alt:"Scroll Down",class:"arrow-image"},null,-1),G=[N],K={class:"feature-cards-container"},Z=(0,n.Lk)("img",{src:C,alt:"Community"},null,-1),S=(0,n.Lk)("div",{class:"card-content"},[(0,n.Lk)("h3",null,"Community")],-1),O=(0,n.Lk)("h2",null,"社区",-1),z=(0,n.Lk)("p",null,"加入我们的社区,分享你的植物故事,交流养护心得。",-1),j=[Z,S,O,z],W=(0,n.Lk)("img",{src:f,alt:"Admin Panel"},null,-1),q=(0,n.Lk)("div",{class:"card-content"},[(0,n.Lk)("h3",null,"Admin Panel")],-1),Y=(0,n.Lk)("h2",null,"管理员面板",-1),_=(0,n.Lk)("p",null,"访问管理员面板,管理用户和内容。",-1),$=[W,q,Y,_],ee=(0,n.Lk)("img",{src:P,alt:"Catalog"},null,-1),te=(0,n.Lk)("div",{class:"card-content"},[(0,n.Lk)("h3",null,"Catalog")],-1),ae=(0,n.Lk)("h2",null,"图鉴",-1),se=(0,n.Lk)("p",null,"浏览丰富的植物图鉴,获取详细的植物信息和养护建议。",-1),ne=[ee,te,ae,se],oe=(0,n.Fv)('<footer class="footer"><p class="left"><a href="contact.html">联系我们</a></p><div class="center"><span>© 2024 Flowers Whispering    </span><a href="https://beian.miit.gov.cn/" target="_blank">豫ICP备2024087175号-1</a></div><div class="right"></div></footer>',1);function ie(e,t,a,s,o,i){return(0,n.uX)(),(0,n.CE)("div",w,[y,(0,n.Lk)("header",A,[E,(0,n.Lk)("div",U,[(0,n.Lk)("nav",T,["admin"===e.currentUser.userRole?((0,n.uX)(),(0,n.CE)("nav",Q,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goToAdminPanel&&e.goToAdminPanel(...t)),class:"nav-button"},"管理")])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.goHome&&e.goHome(...t)),class:"nav-button"},"首页"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...t)=>e.goToCommunity&&e.goToCommunity(...t)),class:"nav-button"},"社区"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=(...t)=>e.goToCatalog&&e.goToCatalog(...t)),class:"nav-button"},"图鉴")]),(0,n.Lk)("div",I,[(0,n.Lk)("div",D,[(0,n.Lk)("img",{src:e.currentUser.avatar,alt:"User Avatar",onClick:t[4]||(t[4]=(...t)=>e.handleUserAvatarClick&&e.handleUserAvatarClick(...t))},null,8,F),(0,n.Lk)("div",X,["guest"!==e.currentUser.userRole?((0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("p",null,"用户名: "+(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("p",null,"邮箱: "+(0,h.v_)(e.currentUser.email),1),(0,n.Lk)("p",null,"角色: "+(0,h.v_)(e.currentUser.userRole),1)])):((0,n.uX)(),(0,n.CE)("div",R,M))])])])])]),(0,n.Lk)("main",J,[B,H,(0,n.Lk)("div",{class:"scroll-down-arrow",onClick:t[5]||(t[5]=(...t)=>e.scrollToCards&&e.scrollToCards(...t))},G),(0,n.Lk)("div",K,[(0,n.Lk)("div",{class:"feature-card",onClick:t[6]||(t[6]=t=>e.goToCommunity())},j),e.isAdmin?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"feature-card",onClick:t[7]||(t[7]=t=>e.goToAdminPanel())},$)):(0,n.Q3)("",!0),(0,n.Lk)("div",{class:"feature-card",onClick:t[8]||(t[8]=t=>e.goToCatalog())},ne)])]),oe])}a(4114);var re=(0,n.pM)({name:"Home",data(){return{isUserInfoVisible:!1}},computed:{...(0,c.L8)({currentUser:"getUserInfo",isAdmin:"isAdmin"})},methods:{...(0,c.i0)(["logout"]),typeEffect(e,t,a=100,s=()=>{}){let n=0;const o=document.createElement("span");function i(){n<t.length?(e.innerHTML=t.substring(0,n+1),e.appendChild(o),n++,setTimeout(i,a)):(o.classList.add("blink"),s&&s())}o.classList.add("typing-cursor"),e.appendChild(o),i()},startTypingEffect(){const e=document.querySelector(".introduction-content p"),t=e.dataset.text||"";e.innerText="",this.typeEffect(e,t,50)},scrollToCards(){const e=document.querySelector(".feature-cards-container"),t=document.querySelector(".scroll-down-arrow");e&&(e.style.display="flex",e.classList.add("visible"),e.scrollIntoView({behavior:"smooth"})),t&&(t.classList.add("fade-out"),t.style.pointerEvents="none")},handleUserAvatarClick(){"guest"===this.currentUser.userRole?this.$router.push("/login"):this.goToUserProfile()},goHome(){this.$router.push("/home")},goToCatalog(){this.$router.push("/catalog")},goToCommunity(){this.$router.push("/community")},goToUserProfile(){this.$router.push("/userprofile")},goToAdminPanel(){this.$router.push("/adminpanel")},performLogout(){this.logout(),this.$router.push("/login")},showUserInfo(){this.isUserInfoVisible=!0},hideUserInfo(){this.isUserInfoVisible=!1}},mounted(){const e=document.querySelector(".introduction-content p");e.dataset.text=e.innerText,e.innerText="",this.startTypingEffect()}}),le=a(1241);const ce=(0,le.A)(re,[["render",ie]]);var ue=ce,de=a.p+"img/wechat.09d5f844.png",pe=a.p+"img/alipay.09dbd0f1.png",me="data:image/png;base64,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";const ke=e=>((0,n.Qi)("data-v-ab9dfa0a"),e=e(),(0,n.jt)(),e),ge={class:"body"},ve=ke((()=>(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])],-1))),he={class:"main-box"},Le=ke((()=>(0,n.Lk)("h2",{class:"title"},"注册",-1))),be={class:"input-wrapper"},Ce=["src"],fe={key:1,class:"avatar-placeholder"},Pe={class:"input-wrapper"},we={class:"input-wrapper"},ye={class:"input-wrapper"},Ae={class:"input-wrapper"},Ee=["disabled"],Ue=(0,n.Fv)('<h2 class="title" data-v-ab9dfa0a>登录</h2><div class="form__icons" data-v-ab9dfa0a><img class="form__icon" src="'+de+'" alt="微信登录" data-v-ab9dfa0a><img class="form__icon" src="'+pe+'" alt="支付宝登录" data-v-ab9dfa0a><img class="form__icon" src="'+me+'" alt="QQ登录" data-v-ab9dfa0a></div><span class="text" data-v-ab9dfa0a>或使用用户名登录</span>',3),Te=ke((()=>(0,n.Lk)("div",{class:"switch__circle"},null,-1))),Qe=ke((()=>(0,n.Lk)("div",{class:"switch__circle switch__circle_top"},null,-1))),Ie={class:"switch__container"};function De(e,t,a,o,i,r){return(0,n.uX)(),(0,n.CE)("div",ge,[ve,(0,n.Lk)("div",he,[(0,n.Lk)("div",{class:(0,h.C4)(["container","container-register",{"is-txl":e.isLogin}])},[(0,n.Lk)("form",null,[Le,(0,n.Lk)("div",be,[(0,n.Lk)("div",{class:"avatar-upload-area",onClick:t[0]||(t[0]=(...t)=>e.triggerUpload&&e.triggerUpload(...t))},[e.avatarPreview?((0,n.uX)(),(0,n.CE)("img",{key:0,src:e.avatarPreview,alt:"头像预览",class:"avatar-preview"},null,8,Ce)):((0,n.uX)(),(0,n.CE)("div",fe,"点击上传头像"))]),(0,n.Lk)("input",{id:"avatarUpload",type:"file",accept:"image/*",onChange:t[1]||(t[1]=(...t)=>e.handleAvatarUpload&&e.handleAvatarUpload(...t)),class:"avatar-upload-input"},null,32)]),(0,n.Lk)("div",Pe,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.registerForm.username=t),onInput:t[3]||(t[3]=t=>e.handleInput("username")),class:"form__input",type:"username",placeholder:"请输入用户名",required:""},null,544),[[s.Jo,e.registerForm.username]]),e.registerForm.touched.username?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,h.C4)(["validation-feedback",{error:!e.isUsernameValid,success:e.isUsernameValid}])},(0,h.v_)(e.isUsernameValid?"✓ 用户名格式正确":"✗ 用户名不可与邮箱格式相同"),3)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",we,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.registerForm.email=t),onInput:t[5]||(t[5]=t=>e.handleInput("email")),class:"form__input",type:"email",placeholder:"请输入邮箱",required:""},null,544),[[s.Jo,e.registerForm.email]]),e.registerForm.touched.email?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,h.C4)(["validation-feedback",{error:!e.isEmailValid,success:e.isEmailValid}])},(0,h.v_)(e.isEmailValid?"✓ 邮箱格式正确":"✗ 请输入有效的邮箱地址"),3)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ye,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.registerForm.password=t),onInput:t[7]||(t[7]=t=>e.handleInput("password")),class:"form__input",type:"password",placeholder:"请输入密码",required:""},null,544),[[s.Jo,e.registerForm.password]]),e.registerForm.touched.password?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,h.C4)(["validation-feedback",{error:!e.isPasswordValid,success:e.isPasswordValid}])},(0,h.v_)(e.isPasswordValid?"✓ 密码长度有效":"✗ 密码长度必须在8到20个字符之间"),3)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Ae,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.registerForm.confirmPassword=t),onInput:t[9]||(t[9]=t=>e.handleInput("confirmPassword")),class:"form__input",type:"password",placeholder:"请再次输入密码",required:""},null,544),[[s.Jo,e.registerForm.confirmPassword]]),e.registerForm.touched.confirmPassword?((0,n.uX)(),(0,n.CE)("span",{key:0,class:(0,h.C4)(["validation-feedback",{error:!e.arePasswordsMatching,success:e.arePasswordsMatching}])},(0,h.v_)(e.arePasswordsMatching?"✓ 密码匹配":"✗ 两次输入的密码不一致"),3)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:"form__button",disabled:e.isRegisterDisabled,onClick:t[10]||(t[10]=(...t)=>e.performRegister&&e.performRegister(...t))}," 立即注册 ",8,Ee)])],2),(0,n.Lk)("div",{class:(0,h.C4)(["container","container-login",{"is-txl is-z200":e.isLogin}])},[(0,n.Lk)("form",null,[Ue,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.loginForm.usernameOrEmail=t),class:"form__input",type:"text",placeholder:"用户名/邮箱",required:""},null,512),[[s.Jo,e.loginForm.usernameOrEmail]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.loginForm.password=t),class:"form__input",type:"password",placeholder:"请输入密码",required:""},null,512),[[s.Jo,e.loginForm.password]]),(0,n.Lk)("div",{class:"form__button",onClick:t[13]||(t[13]=(...t)=>e.performLogin&&e.performLogin(...t))},"立即登录"),(0,n.Lk)("div",{class:"form__button guest-button",onClick:t[14]||(t[14]=(...t)=>e.performGuestLogin&&e.performGuestLogin(...t))},"游客登录")])],2),(0,n.Lk)("div",{class:(0,h.C4)(["switch",{login:e.isLogin}])},[Te,Qe,(0,n.Lk)("div",Ie,[(0,n.Lk)("h2",null,(0,h.v_)(e.isLogin?"您好 !":"欢迎回来 !"),1),(0,n.Lk)("p",null,(0,h.v_)(e.isLogin?"如果您还没有账号，请点击下方立即注册按钮进行账号注册":"如果您已经注册过账号，请点击下方立即登录按钮进行登录"),1),(0,n.Lk)("div",{class:"form__button",onClick:t[15]||(t[15]=t=>e.isLogin=!e.isLogin)},(0,h.v_)(e.isLogin?"立即注册":"立即登录"),1)])],2)])])}var Fe=a(144),Xe=(0,n.pM)({name:"Login",setup(){const e=(0,c.Pj)(),t=(0,l.rd)(),s=(0,Fe.KR)(!0),o=(0,Fe.KR)(null);o.value=a(6873);const i=(0,Fe.KR)({usernameOrEmail:"",password:""}),r=(0,Fe.KR)({username:"",email:"",password:"",confirmPassword:"",touched:{username:!1,email:!1,password:!1,confirmPassword:!1}});(0,n.wB)(s,(e=>{e?(i.value.usernameOrEmail="",i.value.password=""):(o.value=a(6873),r.value.username="",r.value.email="",r.value.password="",r.value.confirmPassword="",r.value.touched={username:!1,email:!1,password:!1,confirmPassword:!1})}));const u=(0,n.EW)((()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!e.test(r.value.username)})),d=(0,n.EW)((()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(r.value.email)})),p=(0,n.EW)((()=>{const e=r.value.password;return e.length>=8&&e.length<=20})),m=(0,n.EW)((()=>r.value.password===r.value.confirmPassword)),k=(0,n.EW)((()=>!u.value||!d.value||!p.value||!m.value)),g=e=>{r.value.touched[e]=!0},v=async()=>{const{usernameOrEmail:a,password:s}=i.value;if(a.trim()&&s.trim())try{const n=await e.dispatch("login",{usernameOrEmail:a,password:s});n&&t.push("/home")}catch(n){alert(n.message||"登录失败")}else alert("用户名/邮箱和密码不能为空！")},h=async()=>{try{const a=await e.dispatch("guestLogin");a?t.push("/home"):alert("游客登录失败，请稍后再试。")}catch(a){alert("游客登录失败，请稍后再试。")}},L=()=>{const e=document.getElementById("avatarUpload");e.click()},b=e=>{const t=e.target.files?.[0];if(t){const e=new FileReader;e.readAsDataURL(t),e.onload=()=>{o.value=e.result,console.log("头像预览数据:",o.value)},e.onerror=()=>{console.error("文件读取失败")}}},C=async()=>{if(k.value)return;const{username:t,email:a,password:n,confirmPassword:i}=r.value;try{const i=await e.dispatch("register",{username:t,email:a,password:n,avatar:o.value});i?(alert("注册成功!请登录"),s.value=!0):alert("注册失败")}catch(l){alert(l.message||"注册失败")}};return{isLogin:s,loginForm:i,registerForm:r,isEmailValid:d,isPasswordValid:p,isUsernameValid:u,arePasswordsMatching:m,isRegisterDisabled:k,handleInput:g,performLogin:v,performGuestLogin:h,performRegister:C,handleAvatarUpload:b,triggerUpload:L,avatarPreview:o}}});const xe=(0,le.A)(Xe,[["render",De],["__scopeId","data-v-ab9dfa0a"]]);var Re=xe;const Ve=e=>((0,n.Qi)("data-v-19c8b631"),e=e(),(0,n.jt)(),e),Me={class:"admin-panel-page"},Je={class:"top-navbar"},Be={key:0,class:"dropdown"},He={class:"main-content"},Ne={key:0},Ge=Ve((()=>(0,n.Lk)("h2",null,"用户管理",-1))),Ke=Ve((()=>(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"添加用户",-1))),Ze={class:"item-list"},Se={class:"item-details"},Oe=Ve((()=>(0,n.Lk)("strong",null,"用户名:",-1))),ze=Ve((()=>(0,n.Lk)("strong",null,"邮箱:",-1))),je=Ve((()=>(0,n.Lk)("strong",null,"角色:",-1))),We={key:0},qe=["onUpdate:modelValue"],Ye=Ve((()=>(0,n.Lk)("option",{value:"user"},"user",-1))),_e=Ve((()=>(0,n.Lk)("option",{value:"admin"},"admin",-1))),$e=[Ye,_e],et={class:"item-actions"},tt=["onClick"],at=["onClick"],st={key:1},nt=Ve((()=>(0,n.Lk)("h2",null,"帖子管理",-1))),ot={class:"item-list"},it={class:"item-details"},rt=Ve((()=>(0,n.Lk)("strong",null,"标题:",-1))),lt=["onClick"],ct={key:0,class:"expanded-content my-animation-slide-bottom"},ut={class:"item-actions"},dt=["onClick"],pt={key:2,class:"plants-review-section"},mt={class:"plants-column"},kt=Ve((()=>(0,n.Lk)("h3",null,"已通过审核",-1))),gt={class:"table"},vt=Ve((()=>(0,n.Lk)("div",{class:"table-header"},[(0,n.Lk)("div",null,"植物图片"),(0,n.Lk)("div",null,"名称"),(0,n.Lk)("div",null,"分类"),(0,n.Lk)("div",null,"描述"),(0,n.Lk)("div",null,"操作")],-1))),ht=["src"],Lt={key:0},bt=["onUpdate:modelValue"],Ct={key:2},ft=["onUpdate:modelValue"],Pt={key:4},wt=["onUpdate:modelValue"],yt=["onClick"],At=["onClick"],Et={class:"plants-column"},Ut=Ve((()=>(0,n.Lk)("h3",null,"待审核",-1))),Tt={class:"table"},Qt=Ve((()=>(0,n.Lk)("div",{class:"table-header"},[(0,n.Lk)("div",null,"植物图片"),(0,n.Lk)("div",null,"名称"),(0,n.Lk)("div",null,"分类"),(0,n.Lk)("div",null,"描述"),(0,n.Lk)("div",null,"操作")],-1))),It=["src"],Dt={key:0},Ft=["onUpdate:modelValue"],Xt={key:2},xt=["onUpdate:modelValue"],Rt={key:4},Vt=["onUpdate:modelValue"],Mt=["onClick"],Jt=["onClick"],Bt=["onClick"],Ht=["onClick"],Nt={key:3},Gt=Ve((()=>(0,n.Lk)("h2",null,"用户反馈",-1))),Kt={class:"item-list"},Zt={class:"item-details"},St=Ve((()=>(0,n.Lk)("strong",null,"反馈标题:",-1))),Ot=["onClick"],zt={key:0,class:"expanded-content my-animation-slide-bottom"},jt={key:4},Wt=Ve((()=>(0,n.Lk)("h2",null,"公告管理",-1))),qt={class:"form-group"},Yt=Ve((()=>(0,n.Lk)("label",{for:"announcement-title"},"标题",-1))),_t={class:"form-group"},$t=Ve((()=>(0,n.Lk)("label",{for:"announcement-content"},"内容",-1))),ea=Ve((()=>(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"提交公告",-1))),ta={class:"item-list assignment"},aa={class:"item-details"},sa=Ve((()=>(0,n.Lk)("strong",null,"标题:",-1))),na=Ve((()=>(0,n.Lk)("strong",null,"发布日期:",-1))),oa=["onClick"],ia={key:0,class:"expanded-content"},ra={class:"item-actions"},la=["onClick"];function ca(e,t,a,o,i,r){return(0,n.uX)(),(0,n.CE)("div",Me,[(0,n.Lk)("aside",Je,[(0,n.Lk)("nav",null,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",{onClick:t[0]||(t[0]=e=>i.currentView="users"),class:(0,h.C4)({active:"users"===i.currentView})},"用户管理",2),(0,n.Lk)("li",{onClick:t[1]||(t[1]=e=>i.currentView="posts"),class:(0,h.C4)({active:"posts"===i.currentView})},"帖子管理",2),(0,n.Lk)("li",{onClick:t[2]||(t[2]=e=>i.currentView="plants"),class:(0,h.C4)({active:"plants"===i.currentView})},"植物审核",2),(0,n.Lk)("li",{onClick:t[3]||(t[3]=e=>i.currentView="feedbacks"),class:(0,h.C4)({active:"feedbacks"===i.currentView})},"用户反馈",2),(0,n.Lk)("li",{onClick:t[4]||(t[4]=e=>i.currentView="announcements"),class:(0,h.C4)({active:"announcements"===i.currentView})},"公告发布",2),(0,n.Lk)("li",{onClick:t[5]||(t[5]=(...e)=>r.toggleHomeDropdown&&r.toggleHomeDropdown(...e)),class:(0,h.C4)({"fast-navigater":!0,"active-dropdown":i.showHomeDropdown})},"快速导航",2),i.showHomeDropdown?((0,n.uX)(),(0,n.CE)("ul",Be,[(0,n.Lk)("li",{onClick:t[6]||(t[6]=(...e)=>r.goToHomeSection&&r.goToHomeSection(...e))},"返回主页"),(0,n.Lk)("li",{onClick:t[7]||(t[7]=(...e)=>r.goToCatalogueSection&&r.goToCatalogueSection(...e))},"图鉴部分"),(0,n.Lk)("li",{onClick:t[8]||(t[8]=(...e)=>r.goToCommunitySection&&r.goToCommunitySection(...e))},"社区部分")])):(0,n.Q3)("",!0)])])]),(0,n.Lk)("main",He,["users"===i.currentView?((0,n.uX)(),(0,n.CE)("div",Ne,[Ge,i.showAddUserForm?((0,n.uX)(),(0,n.CE)("form",{key:0,onSubmit:t[13]||(t[13]=(0,s.D$)(((...e)=>r.handleAddUser&&r.handleAddUser(...e)),["prevent"])),class:"form-container my-animation-slide-bottom"},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.newUser.username=t),placeholder:"用户名",class:"form-input"},null,512),[[s.Jo,e.newUser.username]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=t=>e.newUser.email=t),placeholder:"邮箱",class:"form-input"},null,512),[[s.Jo,e.newUser.email]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=t=>e.newUser.password=t),type:"password",placeholder:"密码",class:"form-input"},null,512),[[s.Jo,e.newUser.password]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=t=>e.newUser.role=t),placeholder:"角色",class:"form-input"},null,512),[[s.Jo,e.newUser.role]]),Ke],32)):(0,n.Q3)("",!0),(0,n.Lk)("ul",Ze,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.users,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.user_id,class:"item"},[(0,n.Lk)("div",Se,[(0,n.Lk)("p",null,[Oe,(0,n.eW)(" "+(0,h.v_)(e.username),1)]),(0,n.Lk)("p",null,[ze,(0,n.eW)(" "+(0,h.v_)(e.email),1)]),(0,n.Lk)("p",null,[je,e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:1,"onUpdate:modelValue":t=>e.newRole=t,class:"form-input"},$e,8,qe)),[[s.u1,e.newRole]]):((0,n.uX)(),(0,n.CE)("span",We,(0,h.v_)(e.role),1))])]),(0,n.Lk)("div",et,["active"==e.user_status?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t=>r.changeUserState(e),class:"btn-edit btn-ban my-animation-slide-bottom"},"封禁",8,tt)):((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:t=>r.changeUserState(e),class:"btn-edit btn-release my-animation-slide-bottom"},"解封",8,at))])])))),128))])])):(0,n.Q3)("",!0),"posts"===i.currentView?((0,n.uX)(),(0,n.CE)("div",st,[nt,(0,n.Lk)("ul",ot,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.posts,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.id,class:"item"},[(0,n.Lk)("div",it,[(0,n.Lk)("p",null,[rt,(0,n.eW)(" "+(0,h.v_)(t.title),1)]),(0,n.Lk)("button",{onClick:e=>r.toggleExpandPost(t),class:"btn-details my-animation-slide-top"},(0,h.v_)(i.expandedPost===t?"收起":"展开")+"内容 ",9,lt)]),i.expandedPost===t?((0,n.uX)(),(0,n.CE)("div",ct,[(0,n.Lk)("p",null,(0,h.v_)(t.content),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",ut,[(0,n.Lk)("button",{onClick:a=>e.deletePost(t.id),class:"btn-delete my-animation-slide-bottom"},"删除",8,dt)])])))),128))])])):(0,n.Q3)("",!0),"plants"===i.currentView?((0,n.uX)(),(0,n.CE)("div",pt,[(0,n.Lk)("div",mt,[kt,(0,n.Lk)("div",gt,[vt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.approvedPlants,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"table-row"},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.image,alt:"植物图片",class:"plant-image"},null,8,ht)]),e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:1,"onUpdate:modelValue":t=>e.name=t,class:"form-input"},null,8,bt)),[[s.Jo,e.name]]):((0,n.uX)(),(0,n.CE)("div",Lt,(0,h.v_)(e.name),1)),e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:3,"onUpdate:modelValue":t=>e.category=t,class:"form-input"},null,8,ft)),[[s.Jo,e.category]]):((0,n.uX)(),(0,n.CE)("div",Ct,(0,h.v_)(e.category),1)),e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("textarea",{key:5,"onUpdate:modelValue":t=>e.description=t,class:"form-input"},null,8,wt)),[[s.Jo,e.description]]):((0,n.uX)(),(0,n.CE)("div",Pt,(0,h.v_)(e.description),1)),(0,n.Lk)("div",null,[e.editing?((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:t=>r.finishEditPlant(e),class:"btn-submit"},"完成",8,At)):((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t=>r.editPlant(e),class:"btn-edit"},"编辑",8,yt))])])))),128))])]),(0,n.Lk)("div",Et,[Ut,(0,n.Lk)("div",Tt,[Qt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.pendingPlants,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:"table-row"},[(0,n.Lk)("div",null,[(0,n.Lk)("img",{src:e.image,alt:"植物图片",class:"plant-image"},null,8,It)]),e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:1,"onUpdate:modelValue":t=>e.name=t,class:"form-input"},null,8,Ft)),[[s.Jo,e.name]]):((0,n.uX)(),(0,n.CE)("div",Dt,(0,h.v_)(e.name),1)),e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:3,"onUpdate:modelValue":t=>e.category=t,class:"form-input"},null,8,xt)),[[s.Jo,e.category]]):((0,n.uX)(),(0,n.CE)("div",Xt,(0,h.v_)(e.category),1)),e.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("textarea",{key:5,"onUpdate:modelValue":t=>e.description=t,class:"form-input"},null,8,Vt)),[[s.Jo,e.description]]):((0,n.uX)(),(0,n.CE)("div",Rt,(0,h.v_)(e.description),1)),(0,n.Lk)("div",null,[e.editing?((0,n.uX)(),(0,n.CE)("button",{key:1,onClick:t=>r.finishEditPlant(e),class:"btn-submit"},"完成",8,Jt)):((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:t=>r.editPlant(e),class:"btn-edit"},"编辑",8,Mt)),(0,n.Lk)("button",{onClick:t=>r.approvePlant(e),class:"btn-approve"},"通过",8,Bt),(0,n.Lk)("button",{onClick:t=>r.deletePlant(e.id),class:"btn-delete"},"删除",8,Ht)])])))),128))])])])):(0,n.Q3)("",!0),"feedbacks"===i.currentView?((0,n.uX)(),(0,n.CE)("div",Nt,[Gt,(0,n.Lk)("ul",Kt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.feedbacks,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"item"},[(0,n.Lk)("div",Zt,[(0,n.Lk)("p",null,[St,(0,n.eW)(" "+(0,h.v_)(e.title),1)]),(0,n.Lk)("button",{onClick:t=>r.toggleExpandFeedback(e),class:"btn-details my-animation-slide-bottom"},(0,h.v_)(i.expandedFeedback===e?"收起":"展开")+"详情 ",9,Ot)]),i.expandedFeedback===e?((0,n.uX)(),(0,n.CE)("div",zt,[(0,n.Lk)("p",null,(0,h.v_)(e.content),1)])):(0,n.Q3)("",!0)])))),128))])])):(0,n.Q3)("",!0),"announcements"===i.currentView?((0,n.uX)(),(0,n.CE)("div",jt,[Wt,(0,n.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>r.toggleAddAnnouncementForm&&r.toggleAddAnnouncementForm(...e)),class:"btn-toggle-form my-animation-slide-top"},(0,h.v_)(i.showAddAnnouncementForm?"取消":"添加公告"),1),i.showAddAnnouncementForm?((0,n.uX)(),(0,n.CE)("form",{key:0,onSubmit:t[17]||(t[17]=(0,s.D$)(((...e)=>r.handleAddAnnouncement&&r.handleAddAnnouncement(...e)),["prevent"])),class:"form-container"},[(0,n.Lk)("div",qt,[Yt,(0,n.bo)((0,n.Lk)("input",{id:"announcement-title","onUpdate:modelValue":t[15]||(t[15]=e=>i.newAnnouncement.title=e),placeholder:"请输入标题",class:"form-input"},null,512),[[s.Jo,i.newAnnouncement.title]])]),(0,n.Lk)("div",_t,[$t,(0,n.bo)((0,n.Lk)("textarea",{id:"announcement-content","onUpdate:modelValue":t[16]||(t[16]=e=>i.newAnnouncement.content=e),placeholder:"请输入内容",class:"form-input"},null,512),[[s.Jo,i.newAnnouncement.content]])]),ea],32)):(0,n.Q3)("",!0),(0,n.Lk)("ul",ta,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.announcements,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"item"},[(0,n.Lk)("div",aa,[(0,n.Lk)("p",null,[sa,(0,n.eW)(" "+(0,h.v_)(e.title),1)]),(0,n.Lk)("p",null,[na,(0,n.eW)(" "+(0,h.v_)(e.date),1)]),(0,n.Lk)("button",{onClick:t=>r.toggleExpandAnnouncement(e),class:"btn-details"},(0,h.v_)(i.expandedAnnouncement===e?"收起":"展示")+"内容 ",9,oa)]),i.expandedAnnouncement===e?((0,n.uX)(),(0,n.CE)("div",ia,[(0,n.Lk)("p",null,(0,h.v_)(e.content),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",ra,[(0,n.Lk)("button",{onClick:t=>r.handleDeleteAnnouncement(e.id),class:"btn-delete my-animation-slide-bottom"},"删除",8,la)])])))),128))])])):(0,n.Q3)("",!0)])])}var ua={name:"AdminPanel",data(){return{currentView:"users",showAddUserForm:!1,showAddAnnouncementForm:!1,expandedPost:null,expandedFeedback:null,expandedAnnouncement:null,showHomeDropdown:!1,newAnnouncement:{title:"",content:""},users:[{user_id:1,userName:"111",password:"12345678",email:"mingyanghao6@gamail.com",registration_date:"2024-09-06 08:11:47",user_status:"active",user_role:"admin",language_preference:"zh-CN",bio:"hhhhhhhhh",gender:"不愿透漏",avatar:"https://cdn.jsdelivr.net/gh/linxinfa/CDN/img/avatar.jpg"}]}},computed:{},methods:{...(0,c.i0)(["addUser","deleteUser","updateUser","deletePost","deleteComment","deleteAnnouncement","addAnnouncement","updateAdmin"]),isActive(){return this.user.active},changeUserState(e){"active"==e.user_status?e.user_status="banned":e.user_status="active"},toggleExpandAnnouncement(e){this.expandedAnnouncement===e?this.expandedAnnouncement=null:this.expandedAnnouncement=e},toggleHomeDropdown(){this.showHomeDropdown=!this.showHomeDropdown},goToHomeSection(){this.$router.push({name:"Home"}),this.showHomeDropdown=!1},goToCatalogueSection(){this.$router.push("/catalog"),this.showHomeDropdown=!1},goToCommunitySection(){this.$router.push("/community"),this.showHomeDropdown=!1},toggleAddUserForm(){this.showAddUserForm=!this.showAddUserForm},handleAddUser(){this.newUser.username&&this.newUser.email&&this.newUser.password&&(this.addUser({...this.newUser}),this.newUser={username:"",email:"",password:"",role:""},this.showAddUserForm=!1)},handleDeleteUser(e){this.deleteUser(e)},editUser(e){e.editing=!0,e.newRole=e.role},saveUser(e){e.role=e.newRole,e.editing=!1,this.updateAdmin(e)},handleDeletePost(e){this.deletePost(e)},handleDeleteComment(e){this.deleteComment(e)},toggleAddAnnouncementForm(){this.showAddAnnouncementForm=!this.showAddAnnouncementForm},handleAddAnnouncement(){if(this.newAnnouncement.title&&this.newAnnouncement.content){const e={...this.newAnnouncement,id:Date.now(),date:(new Date).toLocaleDateString()};this.addAnnouncement(e),this.newAnnouncement={title:"",content:""},this.showAddAnnouncementForm=!1}else alert("请填写公告的标题和内容")},handleDeleteAnnouncement(e){this.deleteAnnouncement(e)},toggleExpandPost(e){this.expandedPost=this.expandedPost===e?null:e},toggleExpandFeedback(e){this.expandedFeedback=this.expandedFeedback===e?null:e},editPlant(e){e.editing=!0},finishEditPlant(e){e.editing=!1},approvePlant(e){e.approved=!0},deletePlant(e){this.$store.commit("DELETE_PLANT",e)}}};const da=(0,le.A)(ua,[["render",ca],["__scopeId","data-v-19c8b631"]]);var pa=da,ma=a.p+"img/plant_book.fd0cfcf4.png",ka=a.p+"img/plant_tool.34df2c55.png";const ga={class:"header"},va=(0,n.Lk)("div",{class:"logo"},"Flowers Whispering",-1),ha={class:"nav-user-container"},La={class:"nav-links"},ba={key:0},Ca={class:"user-info"},fa={class:"user-avatar-wrapper"},Pa=["src"],wa={class:"user-info-list"},ya={key:0},Aa=(0,n.Lk)("div",{class:"book-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1),Ea={class:"user-interface"},Ua={class:"side-bar"},Ta=["src"],Qa={class:"user-info"},Ia={class:"user-name"},Da={class:"tabs"},Fa={class:"card-container"},Xa=(0,n.Lk)("img",{src:ma,alt:"Card 1"},null,-1),xa=(0,n.Lk)("div",{class:"card-info"},"搜寻植物信息",-1),Ra=[Xa,xa],Va=(0,n.Lk)("img",{src:ka,alt:"Card 3"},null,-1),Ma=(0,n.Lk)("div",{class:"card-info"},"植物识别工具",-1),Ja=[Va,Ma],Ba=(0,n.Fv)('<footer class="footer"><p class="left"><a href="contact.html">联系我们</a></p><div class="center"><span>© 2024 Flowers Whispering    </span><a href="https://beian.miit.gov.cn/" target="_blank">豫ICP备2024087175号-1</a></div><div class="right"></div></footer>',1);function Ha(e,t,a,s,o,i){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",ga,[va,(0,n.Lk)("div",ha,[(0,n.Lk)("nav",La,["admin"===e.currentUser.userRole?((0,n.uX)(),(0,n.CE)("nav",ba,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.goToAdminPanel&&i.goToAdminPanel(...e)),class:"nav-button"},"管理")])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.goHome&&i.goHome(...e)),class:"nav-button"},"首页"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.goToCommunity&&i.goToCommunity(...e)),class:"nav-button"},"社区"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.goToCatalog&&i.goToCatalog(...e)),class:"nav-button"},"图鉴")]),(0,n.Lk)("div",Ca,[(0,n.Lk)("div",fa,[(0,n.Lk)("img",{src:e.currentUser.avatar,alt:"User Avatar",onClick:t[4]||(t[4]=(...e)=>i.handleUserAvatarClick&&i.handleUserAvatarClick(...e))},null,8,Pa),(0,n.Lk)("div",wa,["guest"!==e.currentUser.userRole?((0,n.uX)(),(0,n.CE)("div",ya,[(0,n.Lk)("p",null,"用户名: "+(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("p",null,"邮箱: "+(0,h.v_)(e.currentUser.email),1),(0,n.Lk)("p",null,"角色: "+(0,h.v_)(e.currentUser.userRole),1)])):(0,n.Q3)("",!0)])])])])]),Aa,(0,n.Lk)("div",Ea,[(0,n.Lk)("div",Ua,[(0,n.Lk)("button",{class:"user-avatar-button",onClick:t[5]||(t[5]=(...e)=>i.goToUserProfile&&i.goToUserProfile(...e))},[(0,n.Lk)("img",{src:e.currentUser.avatar,alt:"User Avatar"},null,8,Ta)]),(0,n.Lk)("div",Qa,[(0,n.Lk)("p",Ia,(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("div",Da,[(0,n.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>i.GoToHome&&i.GoToHome(...e))},"返回主页")])])]),(0,n.Lk)("div",Fa,[(0,n.Lk)("div",{class:"card",onClick:t[7]||(t[7]=e=>i.GoToBook())},Ra),(0,n.Lk)("div",{class:"card",onClick:t[8]||(t[8]=e=>i.GoToRecognition())},Ja)])]),Ba],64)}var Na={name:"Catalog",computed:{...(0,c.L8)({currentUser:"getUserInfo",isAdmin:"isAdmin"})},mounted(){window.scrollTo(0,0)},methods:{handleUserAvatarClick(){"guest"===this.currentUser.role?this.goToLogin():this.goToUserProfile()},goToCommunity(){this.$router.push("/community")},goToCatalog(){this.$router.push("/catalog")},goToLogin(){this.$router.push("/login")},goToUserProfile(){this.$router.push("/userprofile")},GoToFavorites(){},GoToHome(){this.$router.push("/home")},goToAdminPanel(){this.$router.push("/adminpanel")},goHome(){this.$router.push("/home")},GoToBook(){this.$router.push("/search")},GoToRecognition(){}}};const Ga=(0,le.A)(Na,[["render",Ha]]);var Ka=Ga;const Za=e=>((0,n.Qi)("data-v-772dd76e"),e=e(),(0,n.jt)(),e),Sa=Za((()=>(0,n.Lk)("div",{class:"book-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1))),Oa={class:"search-interface"},za={class:"side-bar"},ja={class:"user-info"},Wa={class:"user-name"},qa={class:"tabs"},Ya={class:"top-banner"},_a=["src"],$a={key:0},es=Za((()=>(0,n.Lk)("div",{class:"search-logo"},null,-1))),ts={class:"search-box"},as={key:1,class:"favorite-plants-container"},ss=Za((()=>(0,n.Lk)("h2",{class:"favorite-title"},"我的收藏",-1))),ns={class:"favorite-plants-list"},os=["onClick"],is=["onClick"],rs={class:"pagination"},ls=["disabled"],cs=["disabled"],us={key:2,class:"favorite-plants-container"},ds=Za((()=>(0,n.Lk)("h2",{class:"search-contribution-title"},"贡献词条",-1))),ps={class:"search-contribution-list"},ms=["onClick"],ks={class:"pagination"},gs=["disabled"],vs=["disabled"],hs={class:"search-contribution-button-container"},Ls={key:3,class:"new-plants-container"},bs=Za((()=>(0,n.Lk)("h2",{class:"new-plants-title"},"最新品种",-1))),Cs={class:"new-plants-list"},fs={class:"new-plant-header"},Ps=["onClick"],ws={class:"update-time"},ys={class:"pagination"},As=["disabled"],Es=["disabled"],Us=(0,n.Fv)('<footer class="footer" data-v-772dd76e><p class="left" data-v-772dd76e><a href="contact.html" data-v-772dd76e>联系我们</a></p><div class="center" data-v-772dd76e><span data-v-772dd76e>© 2024 Flowers Whispering    </span><a href="https://beian.miit.gov.cn/" target="_blank" data-v-772dd76e>豫ICP备2024087175号-1</a></div><div class="right" data-v-772dd76e></div></footer>',1);function Ts(e,t,a,o,i,r){return(0,n.uX)(),(0,n.CE)(n.FK,null,[Sa,(0,n.Lk)("div",Oa,[(0,n.Lk)("div",za,[(0,n.Lk)("div",ja,[(0,n.Lk)("p",Wa,(0,h.v_)(i.userName),1),(0,n.Lk)("div",qa,[(0,n.Lk)("button",{class:(0,h.C4)({active:"search"===i.activeTab}),onClick:t[0]||(t[0]=e=>r.setActiveTab("search"))},"百科搜索",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"Myfavorited"===i.activeTab}),onClick:t[1]||(t[1]=e=>r.setActiveTab("Myfavorited"))},"我的收藏",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"contribution"===i.activeTab}),onClick:t[2]||(t[2]=e=>r.setActiveTab("contribution"))},"贡献词条",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"new"===i.activeTab}),onClick:t[3]||(t[3]=e=>r.setActiveTab("new"))},"最新品种",2),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>r.TestPage&&r.TestPage(...e))},"页面测试"),(0,n.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>r.ErrorPage&&r.ErrorPage(...e))},"错误测试"),(0,n.Lk)("button",{class:(0,h.C4)({active:"home"===i.activeTab}),onClick:t[6]||(t[6]=(...e)=>r.GoToHome&&r.GoToHome(...e))},"返回上步",2)])])]),(0,n.Lk)("div",Ya,[(0,n.Lk)("button",{class:"user-button",onClick:t[7]||(t[7]=(...e)=>r.goToUserProfile&&r.goToUserProfile(...e))},[(0,n.Lk)("img",{src:e.currentUser.avatar,alt:"User"},null,8,_a)])]),"search"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",$a,[es,(0,n.Lk)("div",ts,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=e=>i.searchQuery=e),placeholder:"输入植物名称，去一探究竟吧！",class:"search-input"},null,512),[[s.Jo,i.searchQuery]]),(0,n.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>r.searchDatabase&&r.searchDatabase(...e)),class:"search-button"},"搜索")])])):(0,n.Q3)("",!0),"Myfavorited"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",as,[ss,(0,n.Lk)("ul",ns,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.paginatedFavoritePlants,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t,class:"favorite-plant-item"},[(0,n.Lk)("span",{onClick:t=>r.viewPlantDetail(e.Plantid,e.Plantname),class:"plant-name"},(0,h.v_)(e.Plantname),9,os),(0,n.Lk)("button",{onClick:t=>r.removeFromFavorites(e.id),class:"remove-button"},"取消收藏",8,is)])))),128))]),(0,n.Lk)("div",rs,[(0,n.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>r.prevPage&&r.prevPage(...e)),disabled:1===i.currentPage},"上一页",8,ls),(0,n.Lk)("span",null,"页码 "+(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(r.totalPages),1),(0,n.Lk)("button",{onClick:t[11]||(t[11]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:i.currentPage===r.totalPages},"下一页",8,cs)])])):(0,n.Q3)("",!0),"contribution"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",us,[ds,(0,n.Lk)("ul",ps,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.paginatedContributions,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t,class:"search-contribution-item"},[(0,n.Lk)("span",{class:(0,h.C4)(["search-contribution-plant-name",{clickable:"已通过"===e.status}]),onClick:t=>"已通过"===e.status?r.viewPlantDetail(e.Plantid,e.Plantname):null},(0,h.v_)(e.Plantname),11,ms),(0,n.Lk)("span",{class:(0,h.C4)(["review-status",{"status-pending":"未审核"===e.status,"status-approved":"已通过"===e.status,"status-rejected":"未通过"===e.status}])},(0,h.v_)(e.status),3)])))),128))]),(0,n.Lk)("div",ks,[(0,n.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>r.prevContributionPage&&r.prevContributionPage(...e)),disabled:1===i.contributionPage},"上一页",8,gs),(0,n.Lk)("span",null,"页码 "+(0,h.v_)(i.contributionPage)+" / "+(0,h.v_)(r.contributionTotalPages),1),(0,n.Lk)("button",{onClick:t[13]||(t[13]=(...e)=>r.nextContributionPage&&r.nextContributionPage(...e)),disabled:i.contributionPage===r.contributionTotalPages},"下一页",8,vs)]),(0,n.Lk)("div",hs,[(0,n.Lk)("button",{class:"search-contribution-button",onClick:t[14]||(t[14]=(...e)=>r.GoToContributionPage&&r.GoToContributionPage(...e))},"我要贡献")])])):(0,n.Q3)("",!0),"new"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",Ls,[bs,(0,n.Lk)("ul",Cs,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.paginatedNewPlants,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t,class:"new-plant-item"},[(0,n.Lk)("div",fs,[(0,n.Lk)("span",{onClick:t=>r.viewPlantDetail(e.Plantid,e.Plantname),class:"new-plant-name"},(0,h.v_)(e.Plantname),9,Ps),(0,n.Lk)("span",ws,(0,h.v_)(e.updateTime),1)])])))),128))]),(0,n.Lk)("div",ys,[(0,n.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>r.prevNewPlantsPage&&r.prevNewPlantsPage(...e)),disabled:1===i.newPlantsPage},"上一页",8,As),(0,n.Lk)("span",null,"页码 "+(0,h.v_)(i.newPlantsPage)+" / "+(0,h.v_)(r.newPlantsTotalPages),1),(0,n.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>r.nextNewPlantsPage&&r.nextNewPlantsPage(...e)),disabled:i.contributionPage===r.newPlantsTotalPages},"下一页",8,Es)])])):(0,n.Q3)("",!0)]),Us],64)}var Qs={name:"Search",data(){return{buttonImageUrl:"../catalog/images/user_example.png",userName:"Wuhuairline",searchQuery:"",activeTab:"search",favoritePlants:[],currentPage:1,itemsPerPage:10,contributions:[],contributionPage:1,contributionItemsPerPage:8,newPlants:[],newPlantsPage:1,newPlantsItemsPerPage:8}},mounted(){window.scrollTo(0,0),this.loadFavorites(),this.loadContributions(),this.loadNewPlants()},computed:{...(0,c.L8)({currentUser:"getUserInfo",isAdmin:"isAdmin"}),totalPages(){return Math.ceil(this.favoritePlants.length/this.itemsPerPage)},paginatedFavoritePlants(){const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.favoritePlants.slice(e,t)},contributionTotalPages(){return Math.ceil(this.contributions.length/this.contributionItemsPerPage)},paginatedContributions(){const e=(this.contributionPage-1)*this.contributionItemsPerPage,t=e+this.contributionItemsPerPage;return this.contributions.slice(e,t)},newPlantsTotalPages(){return Math.ceil(this.newPlants.length/this.newPlantsItemsPerPage)},paginatedNewPlants(){const e=(this.newPlantsPage-1)*this.newPlantsItemsPerPage,t=e+this.newPlantsItemsPerPage;return this.newPlants.slice(e,t)}},methods:{toggleUserMenu(){this.showUserMenu=!this.showUserMenu},handleUserAvatarClick(){"guest"===this.currentUser.role?this.$router.push("/login"):this.goToUserProfile()},goToUserProfile(){this.$router.push("/userprofile")},goToCommunity(){this.$router.push("/community")},goToCatalog(){this.$router.push("/catalog")},goHome(){this.$router.push("/home")},goToAdminPanel(){this.$router.push("/adminpanel")},GoToHome(){this.$router.push("/catalog")},GoToContributionPage(){this.$router.push("/Contribution")},searchDatabase(){console.log(`Searching for: ${this.searchQuery}`)},setActiveTab(e){this.activeTab=e},loadFavorites(){this.favoritePlants=[{id:1,Plantname:"蒲公英"},{id:2,Plantname:"玫瑰"},{id:3,Plantname:"百合"},{id:4,Plantname:"竹子"},{id:5,Plantname:"兰花"},{id:6,Plantname:"茉莉花"},{id:7,Plantname:"绿萝"},{id:8,Plantname:"牡丹"},{id:9,Plantname:"柳树"},{id:10,Plantname:"向日葵"},{id:10,Plantname:"豌豆射手"}]},loadContributions(){this.contributions=[{id:1,Plantname:"铁线莲",status:"未审核"},{id:2,Plantname:"杜鹃花",status:"已通过"},{id:3,Plantname:"水仙花",status:"未通过"},{id:4,Plantname:"菊花",status:"未通过"},{id:5,Plantname:"紫罗兰",status:"已通过"},{id:6,Plantname:"凤梨",status:"未通过"},{id:7,Plantname:"地瓜",status:"未审核"},{id:8,Plantname:"土豆",status:"未审核"},{id:9,Plantname:"香蕉",status:"未审核"},{id:10,Plantname:"杨桃",status:"已通过"}]},loadNewPlants(){this.newPlants=[{id:1,Plantname:"铁线莲",updateTime:"2024年9月1日"},{id:2,Plantname:"杜鹃花",updateTime:"2024年8月30日"},{id:3,Plantname:"水仙花",updateTime:"2024年8月25日"},{id:4,Plantname:"菊花",updateTime:"2024年8月20日"},{id:5,Plantname:"紫罗兰",updateTime:"2024年8月15日"},{id:6,Plantname:"凤梨",updateTime:"2024年8月10日"},{id:7,Plantname:"地瓜",updateTime:"2024年8月5日"},{id:8,Plantname:"土豆",updateTime:"2024年8月1日"},{id:9,Plantname:"香蕉",updateTime:"2024年7月28日"},{id:10,Plantname:"杨桃",updateTime:"2024年7月20日"}]},removeFromFavorites(e){const t=this.favoritePlants.find((t=>t.id===e));this.favoritePlants=this.favoritePlants.filter((t=>t.id!==e)),console.log(`删除植物的名字: ${t.Plantname}`)},TestPage(){this.$router.push("/information")},ErrorPage(){this.$router.push("/FindError")},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},prevContributionPage(){this.contributionPage>1&&this.contributionPage--},nextContributionPage(){this.contributionPage<this.contributionTotalPages&&this.contributionPage++},prevNewPlantsPage(){this.newPlantsPage>1&&this.newPlantsPage--},nextNewPlantsPage(){this.newPlantsPage<this.newPlantsTotalPages&&this.newPlantsPage++},viewPlantDetail(e,t){this.$router.push(`/plant/${e}`),console.log(`前往植物的名字: ${t}`)}}};const Is=(0,le.A)(Qs,[["render",Ts],["__scopeId","data-v-772dd76e"]]);var Ds=Is,Fs=a.p+"img/return_icon.46f2a8a3.png";const Xs=e=>((0,n.Qi)("data-v-cddee25a"),e=e(),(0,n.jt)(),e),xs=Xs((()=>(0,n.Lk)("div",{class:"book-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1))),Rs=Xs((()=>(0,n.Lk)("img",{src:Fs,alt:"返回"},null,-1))),Vs=[Rs],Ms={class:"information-top"},Js=Xs((()=>(0,n.Lk)("div",{class:"information-logo"},null,-1))),Bs=Xs((()=>(0,n.Lk)("p",null,"叶语百科",-1))),Hs={class:"information-box"},Ns={class:"information-page"},Gs={class:"sidebar"},Ks=Xs((()=>(0,n.Lk)("h2",null,"目录",-1))),Zs=["href"],Ss={class:"content"},Os={key:0,class:"plant-info"},zs={class:"plant-name"},js=["id"],Ws={class:"info-sidebar"},qs={class:"info-sidebar-image"},Ys=["src"],_s={class:"info-sidebar-categories"},$s=Xs((()=>(0,n.Lk)("h3",null,"科学分类",-1)));function en(e,t,a,o,i,r){return(0,n.uX)(),(0,n.CE)(n.FK,null,[xs,(0,n.Lk)("button",{class:"return-button",onClick:t[0]||(t[0]=(...e)=>r.GoBack&&r.GoBack(...e))},Vs),(0,n.Lk)("div",Ms,[Js,Bs,(0,n.Lk)("div",Hs,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.searchQuery=e),placeholder:"输入植物名称，去一探究竟吧！",class:"information-input"},null,512),[[s.Jo,i.searchQuery]]),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.searchDatabase&&r.searchDatabase(...e)),class:"information-button"},"搜索")])]),(0,n.Lk)("div",Ns,[(0,n.Lk)("div",Gs,[Ks,(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.subTitles,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t},[(0,n.Lk)("a",{href:"#subsection-"+t},(0,h.v_)(e),9,Zs)])))),128))])]),(0,n.Lk)("div",Ss,[i.plant?((0,n.uX)(),(0,n.CE)("div",Os,[(0,n.Lk)("h1",zs,(0,h.v_)(i.plant.name),1),(0,n.Lk)("button",{class:(0,h.C4)(["favorite-button",{favorited:i.isFavorited}]),onClick:t[3]||(t[3]=(...e)=>r.GoToFavorite&&r.GoToFavorite(...e))},(0,h.v_)(i.isFavorited?"取消收藏":"收藏"),3)])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.plant.contents,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,id:"subsection-"+t,class:"subsection"},[(0,n.Lk)("h2",null,(0,h.v_)(i.subTitles[t]),1),(0,n.Lk)("p",null,(0,h.v_)(e),1)],8,js)))),128))]),(0,n.Lk)("div",Ws,[(0,n.Lk)("div",qs,[(0,n.Lk)("img",{src:i.plant.image,alt:"植物图片",class:"plant-image"},null,8,Ys)]),(0,n.Lk)("div",_s,[$s,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.classificationList,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"classification-item"},(0,h.v_)(e.label)+": "+(0,h.v_)(e.value),1)))),128))])])])],64)}var tn={name:"Information",data(){return{searchQuery:"",isFavorited:!1,plant:{name:"绿萝",image:a(5323),contents:["绿萝（学名：Epipremnum aureum），又名黄金葛，是天南星科、麒麟叶属的一种多年生木质藤本植物[1]，原产于法属波利尼西亚的莫雷阿岛[2]，随着人类引进而在东南亚、南亚、华南、所罗门群岛、非洲、西印度群岛等地的热带及亚热带森林中归化[2][3]，并在部分地区成为入侵物种，影响一些地方的生态平衡。喜荫蔽潮湿的环境，生命力极强，在黑暗无光的条件下亦能生存[4]。现作为观叶植物而被广泛栽培于人类居住和活动场所，因其枝茎善于攀缘的特性，适宜吊盆栽植或植于图腾柱上。","绿萝属高大藤本，靠茎部攀墙，节间具纵向槽状；较多分枝，枝悬垂。幼枝呈鞭状，细长，粗3－4毫米，节间长15－20厘米；叶柄长8－10厘米，两侧鞘状部分达顶部；鞘状部分呈皮革质感，下部每侧宽近1厘米，向上渐狭；下部叶片大，长5－10厘米，上部的长6－8厘米，纸质感，宽卵形，短渐尖，叶基部呈心形，宽6.5厘米。成熟枝上叶柄粗壮，长30－40厘米，枝基部稍大，上部关节长2.5－3厘米、稍肥厚，腹面具宽槽，叶鞘长，叶片薄皮革质感，翠绿色，通常特别是叶面有多数不规则的纯黄色斑块，不等边的卵形或卵状长圆形，前端短渐尖，叶基部深心形，长32－45厘米，宽24－36厘米，1级侧叶脉8－9对，稍粗，两面略隆起，与中肋成70°－80°","绿萝原产印度尼西亚所罗门群岛，世界各地温室广为栽培，中国长江流域以南各地常见栽培","绿萝在热带地区常攀援生长在雨林的岩石和树干上，可长成巨大的藤本植物","绿萝喜高温、高湿、有明亮散射光的环境。耐阴，但过于阴蔽时，叶片上色斑不明显或消失。忌烈日暴晒，生长适温20~30℃，稍耐寒，5℃以上可安全越冬。要求肥沃、疏松、湿润的土壤。耐水湿，可用水插莳养，稍耐旱 [2]。具有较强的耐尘性，对环境要求低","绿萝不易开花，一般采用扦插繁殖。因绿萝的茎节上有气根，扦插成活率非常高 [13]。环境条件适宜，全年均可进行繁殖，但以春季枝条扦插繁殖最容易。绿萝土培扦插法有枝条扦插法、短截扦插法、平铺扦插法和海绵扦插法4种，最常用的是枝条扦插法 [8]。扦插于4~5月间或生长旺季进行 [11]，选取健壮的绿萝藤，剪取15~30厘米的枝条，将基部1~2节的叶片去掉，注意不要伤及气根，然后插入素沙中，深度为插穗的1/3，淋足水放置于荫蔽处，每天向叶面喷水或覆盖塑料薄膜保湿，只要保持环境不低于20℃，成活率均在90%以上 [12]，约20天可发根。绿萝水培法是利用水作为基质，选择优良的插穗进行扦插。水培容器的大小和水的深浅根据扦插枝来定，枝条长7～10cm即可，下切口切面呈45°为宜，有助于增大吸水面积。入水深度以没过枝条下端1/3～1/2即可 。绿萝长出根系之前，两三天换1次水，换水的同时清洗水培瓶内壁，不要添加营养液。待绿萝根系长出后，5～7d换1次水即可，夏季气温高，最好不要加营养液，否则易导致根系腐烂","绿萝属于观叶类植物，叶片较多且叶面积较大，体内水分蒸腾较快，所以水分供给要充足。夏季高温干旱时，每天傍晚时浇1次水，中午还要向叶面喷水降温，增大盆花周围环境的湿度，以避免叶片在高温下受到伤害。冬季由于温度低，绿萝生长缓慢，其需水量也减少，不可浇水过多。绿萝施肥以氮肥为主，辅以磷钾肥，要薄肥勤施。春季绿萝生长期到来前，每隔10d左右施硫酸或0.3%尿素溶液1次，并用 0.5%~1%的尿素溶液进行叶面施肥1次，这样既能满足绿萝生长需要，又能保持叶片绿色光亮。秋冬季节应减少施肥，施肥以叶面喷施为主，通过叶面上气孔吸收肥料，肥效可直接作用于叶面。叶面肥要用专用肥，普通无机肥不易被叶面吸收。绿萝属阴性植物，忌阳光直射，喜散射光，较耐阴，因此要把绿萝摆在室内光照最好的地方，或在正午搬到密封的阳台上晒太阳。光照不足和阳光直射都会使叶面上美丽的斑纹消失，有损其观赏价值。一般家中室温即可，建议室温控制在20℃左右，温度只要不低于10℃，绿萝即可安全过冬。以疏松、富含有机质的微酸性和中性沙壤土栽培，其发育最好","绿萝能吸附和去除室内空气中的甲醛、苯、三氯乙烯等污染物，是天然的“空气净化器” [16]。绿萝对水中无机污染物和有机污染物有很强的吸收作用，可以利用水中的二氧化碳、氮元素等合成自身有机质，从而降低水中氮、磷的浓度，净化水质，是一种很好的“污水净化器”"]},subTitles:["植物简介","形态特征","分布范围","生长环境","生长习性","繁殖方式","栽培技术","主要价值"],classificationList:[{label:"界",value:"植物界"},{label:"门",value:"被子植物门"},{label:"纲",value:"单子叶植物纲"},{label:"目",value:"天南星目"},{label:"科",value:"天南星科"},{label:"属",value:"麒麟叶属"},{label:"种",value:"绿萝种"}]}},mounted(){this.getFavoriteStatus()},methods:{searchDatabase(){console.log(`Searching for: ${this.searchQuery}`)},GoBack(){this.$router.push("/search")},classification(){const e=["植物界","被子植物门","单子叶植物纲","天南星目","天南星科","麒麟叶属","绿萝种"];this.classificationList.forEach(((t,a)=>{t.value=e[a]}))},getFavoriteStatus(){},GoToFavorite(){this.isFavorited?this.unfavoritePlant():this.favoritePlant(),this.isFavorited=!this.isFavorited},unfavoritePlant(){console.log("进行取消收藏操作")},favoritePlant(){console.log("进行收藏操作")}}};const an=(0,le.A)(tn,[["render",en],["__scopeId","data-v-cddee25a"]]);var sn=an,nn=a.p+"img/user-avatar.597b32ab.jpg",on=a.p+"img/error_background.6cc4ce89.jpg";const rn=e=>((0,n.Qi)("data-v-20cc9628"),e=e(),(0,n.jt)(),e),ln={class:"header"},cn=rn((()=>(0,n.Lk)("div",{class:"logo"},"Flowers Whispering",-1))),un={key:0,class:"user-info"},dn={key:0,class:"username"},pn={class:"user-avatar-wrapper"},mn={class:"user-info-list"},kn=rn((()=>(0,n.Lk)("div",{class:"error-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1))),gn={class:"info-box"},vn=rn((()=>(0,n.Lk)("img",{class:"info-image",src:on,alt:"Info Image"},null,-1))),hn=rn((()=>(0,n.Lk)("p",{class:"info-text"},":(",-1))),Ln=rn((()=>(0,n.Lk)("p",{class:"info-text"},"你似乎来到没有植物生长的荒原",-1)));function bn(e,t,a,s,o,i){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",ln,[cn,e.currentUser?((0,n.uX)(),(0,n.CE)("div",un,[e.currentUser?((0,n.uX)(),(0,n.CE)("span",dn,(0,h.v_)(e.currentUser.username),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",pn,[e.currentUser?((0,n.uX)(),(0,n.CE)("img",{key:0,src:nn,alt:"User Avatar",onClick:t[0]||(t[0]=t=>e.goToUserProfile())})):(0,n.Q3)("",!0),(0,n.Lk)("div",mn,[(0,n.Lk)("p",null,"用户名: "+(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("p",null,"邮箱: "+(0,h.v_)(e.currentUser.email),1),(0,n.Lk)("p",null,"角色: "+(0,h.v_)(e.currentUser.role),1)])]),(0,n.Lk)("button",{class:"logout-button",onClick:t[1]||(t[1]=(...t)=>e.performLogout&&e.performLogout(...t))},(0,h.v_)("guest"===e.currentUser.role?"登录":"登出"),1)])):(0,n.Q3)("",!0)]),kn,(0,n.Lk)("div",gn,[vn,hn,Ln,(0,n.Lk)("button",{class:"return-button",onClick:t[2]||(t[2]=(...e)=>i.GoBack&&i.GoBack(...e))},"重新探索")])],64)}var Cn={name:"FindError",methods:{GoBack(){this.$router.go(-1)}}};const fn=(0,le.A)(Cn,[["render",bn],["__scopeId","data-v-20cc9628"]]);var Pn=fn;const wn=e=>((0,n.Qi)("data-v-6af8472f"),e=e(),(0,n.jt)(),e),yn=wn((()=>(0,n.Lk)("div",{class:"contribution-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1))),An={class:"content-form"},En={class:"basic-info"},Un=wn((()=>(0,n.Lk)("h2",{class:"section-title"},"基本词条",-1))),Tn={class:"basic-info-inputs"},Qn={class:"image-upload"},In={class:"detailed-info"},Dn=wn((()=>(0,n.Lk)("h2",{class:"section-title"},"详细词条",-1)));function Fn(e,t,a,o,i,r){return(0,n.uX)(),(0,n.CE)(n.FK,null,[yn,(0,n.Lk)("div",An,[(0,n.Lk)("div",En,[Un,(0,n.Lk)("div",Tn,[(0,n.bo)((0,n.Lk)("input",{type:"text",class:"plant-name-input","onUpdate:modelValue":t[0]||(t[0]=e=>i.plantData.name=e),placeholder:"植物名字",required:""},null,512),[[s.Jo,i.plantData.name]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>i.plantData.kingdom=e),placeholder:"界",required:""},null,512),[[s.Jo,i.plantData.kingdom]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>i.plantData.phylum=e),placeholder:"门",required:""},null,512),[[s.Jo,i.plantData.phylum]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>i.plantData.class=e),placeholder:"纲",required:""},null,512),[[s.Jo,i.plantData.class]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>i.plantData.order=e),placeholder:"目",required:""},null,512),[[s.Jo,i.plantData.order]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>i.plantData.family=e),placeholder:"科",required:""},null,512),[[s.Jo,i.plantData.family]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>i.plantData.genus=e),placeholder:"属",required:""},null,512),[[s.Jo,i.plantData.genus]]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>i.plantData.species=e),placeholder:"种",required:""},null,512),[[s.Jo,i.plantData.species]])]),(0,n.Lk)("div",Qn,[(0,n.Lk)("input",{type:"file",onChange:t[8]||(t[8]=(...e)=>r.onFileChange&&r.onFileChange(...e)),accept:"image/*"},null,32)])]),(0,n.Lk)("div",In,[Dn,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[9]||(t[9]=e=>i.plantData.description=e),placeholder:"植物简介",required:""},null,512),[[s.Jo,i.plantData.description]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[10]||(t[10]=e=>i.plantData.features=e),placeholder:"形态特征",required:""},null,512),[[s.Jo,i.plantData.features]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[11]||(t[11]=e=>i.plantData.distribution=e),placeholder:"分布范围",required:""},null,512),[[s.Jo,i.plantData.distribution]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[12]||(t[12]=e=>i.plantData.environment=e),placeholder:"生长环境",required:""},null,512),[[s.Jo,i.plantData.environment]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>i.plantData.habits=e),placeholder:"生长习性",required:""},null,512),[[s.Jo,i.plantData.habits]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[14]||(t[14]=e=>i.plantData.reproduction=e),placeholder:"繁殖方式",required:""},null,512),[[s.Jo,i.plantData.reproduction]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>i.plantData.cultivation=e),placeholder:"栽培技术",required:""},null,512),[[s.Jo,i.plantData.cultivation]]),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>i.plantData.value=e),placeholder:"主要价值",required:""},null,512),[[s.Jo,i.plantData.value]])]),(0,n.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>r.submitForm&&r.submitForm(...e)),class:"contribution-button"},"发布贡献"),(0,n.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.goBack&&r.goBack(...e)),class:"return-button"},"放弃编辑")])],64)}var Xn={name:"Contribution",data(){return{currentUser:null,plantData:{name:"",kingdom:"",phylum:"",class:"",order:"",family:"",genus:"",species:"",description:"",features:"",distribution:"",environment:"",habits:"",reproduction:"",cultivation:"",value:"",image:null}}},methods:{goBack(){this.$router.go(-1)},onFileChange(e){this.plantData.image=e.target.files[0]},async submitForm(){if(Object.values(this.plantData).some((e=>!e)))alert("所有字段均为必填项！");else try{const e=new FormData;for(const a in this.plantData)e.append(a,this.plantData[a]);console.log("植物名字:",this.plantData.name),console.log("界:",this.plantData.kingdom),console.log("门:",this.plantData.phylum),console.log("纲:",this.plantData.class),console.log("目:",this.plantData.order),console.log("科:",this.plantData.family),console.log("属:",this.plantData.genus),console.log("种:",this.plantData.species),console.log("植物简介:",this.plantData.description),console.log("形态特征:",this.plantData.features),console.log("分布范围:",this.plantData.distribution),console.log("生长环境:",this.plantData.environment),console.log("生长习性:",this.plantData.habits),console.log("繁殖方式:",this.plantData.reproduction),console.log("栽培技术:",this.plantData.cultivation),console.log("主要价值:",this.plantData.value);const t=await fetch("/api/submitPlant",{method:"POST",body:e});if(!t.ok)throw new Error("提交失败");alert("提交成功！"),this.$router.push("/success")}catch(e){console.error("提交失败:",e),alert("提交失败，请稍后再试")}}}};const xn=(0,le.A)(Xn,[["render",Fn],["__scopeId","data-v-6af8472f"]]);var Rn=xn,Vn="data:image/png;base64,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",Mn=a.p+"img/button1.5b9c7e27.png",Jn=a.p+"img/button2.0bbd6a27.png",Bn=a.p+"img/button3.6fc083ef.png";const Hn=e=>((0,n.Qi)("data-v-2c173908"),e=e(),(0,n.jt)(),e),Nn={class:"header"},Gn=Hn((()=>(0,n.Lk)("div",{class:"logo"},"Flowers Whispering",-1))),Kn={class:"nav-user-container"},Zn={class:"nav-links"},Sn={key:0},On={class:"user-info"},zn={class:"user-avatar-wrapper"},jn=["src"],Wn={class:"user-info-list"},qn={key:0},Yn=Hn((()=>(0,n.Lk)("div",{class:"book-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1))),_n={class:"user-interfacer"},$n={class:"side-bar"},eo={class:"user-info"},to={class:"user-name"},ao={class:"tabs"},so={class:"top-banner"},no=Hn((()=>(0,n.Lk)("img",{src:Vn,alt:"User"},null,-1))),oo=[no],io={key:0},ro={class:"card-container1"},lo=Hn((()=>(0,n.Lk)("img",{src:Mn,alt:"Card 1"},null,-1))),co=Hn((()=>(0,n.Lk)("div",{class:"card-info"},"我的帖子",-1))),uo=[lo,co],po=Hn((()=>(0,n.Lk)("img",{src:Jn,alt:"Card 2"},null,-1))),mo=Hn((()=>(0,n.Lk)("div",{class:"card-info"},"我的评论",-1))),ko=[po,mo],go=Hn((()=>(0,n.Lk)("img",{src:Bn,alt:"Card 3"},null,-1))),vo=Hn((()=>(0,n.Lk)("div",{class:"card-info"},"我的收藏",-1))),ho=[go,vo],Lo={key:1,class:"card-container"},bo=Hn((()=>(0,n.Lk)("div",{class:"card-container"},[(0,n.Lk)("div",{class:"love-time-title1"}," 欢迎来到叶语花谣社区 ")],-1))),Co={class:"information-box1"},fo={key:2},Po={class:"post-container"},wo=Hn((()=>(0,n.Lk)("div",{class:"post-title"}," 发布帖子 ",-1))),yo={class:"form-group"},Ao=Hn((()=>(0,n.Lk)("label",{for:"title",class:"form-label"},"标题:",-1))),Eo={class:"form-group"},Uo=Hn((()=>(0,n.Lk)("label",{for:"content",class:"form-label"},"内容:",-1))),To={class:"form-buttons"},Qo=Hn((()=>(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"发布",-1))),Io={key:3},Do={key:4,class:"contributors-container"},Fo=Hn((()=>(0,n.Lk)("h2",{class:"contributors-title"},"用户贡献榜",-1))),Xo={class:"contributors-list"},xo={class:"user-rank"},Ro={class:"user-name"},Vo={class:"user-contribution"},Mo={class:"pagination"},Jo=["disabled"],Bo=["disabled"],Ho=(0,n.Fv)('<footer class="footer" data-v-2c173908><p class="left" data-v-2c173908><a href="contact.html" data-v-2c173908>联系我们</a></p><p class="center" data-v-2c173908>© 2024 Flowers Whispering</p><div class="right" data-v-2c173908></div></footer>',1);function No(e,t,a,o,i,r){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",Nn,[Gn,(0,n.Lk)("div",Kn,[(0,n.Lk)("nav",Zn,["admin"===e.currentUser.userRole?((0,n.uX)(),(0,n.CE)("nav",Sn,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goToAdminPanel&&e.goToAdminPanel(...t)),class:"nav-button"},"管理")])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.goHome&&e.goHome(...t)),class:"nav-button"},"首页"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...t)=>e.goToCommunity&&e.goToCommunity(...t)),class:"nav-button"},"社区"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=(...t)=>e.goToCatalog&&e.goToCatalog(...t)),class:"nav-button"},"图鉴")]),(0,n.Lk)("div",On,[(0,n.Lk)("div",zn,[(0,n.Lk)("img",{src:e.userAvatar,alt:"User Avatar",onClick:t[4]||(t[4]=(...e)=>r.handleUserAvatarClick&&r.handleUserAvatarClick(...e))},null,8,jn),(0,n.Lk)("div",Wn,["guest"!==e.currentUser.userRole?((0,n.uX)(),(0,n.CE)("div",qn,[(0,n.Lk)("p",null,"用户名: "+(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("p",null,"邮箱: "+(0,h.v_)(e.currentUser.email),1),(0,n.Lk)("p",null,"角色: "+(0,h.v_)(e.currentUser.userRole),1)])):(0,n.Q3)("",!0)])])])])]),Yn,(0,n.Lk)("div",_n,[(0,n.Lk)("div",$n,[(0,n.Lk)("div",eo,[(0,n.Lk)("p",to,(0,h.v_)(i.userName),1),(0,n.Lk)("div",ao,[(0,n.Lk)("button",{class:(0,h.C4)({active:"Announcement"===i.activeTab}),onClick:t[5]||(t[5]=e=>r.setActiveTab("Announcement"))},"社区首页",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"PersonalCenter"===i.activeTab}),onClick:t[6]||(t[6]=e=>r.setActiveTab("PersonalCenter"))},"个人中心",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"HotPosts"===i.activeTab}),onClick:t[7]||(t[7]=e=>r.setActiveTab("HotPosts"))},"热门帖子",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"SentPost"===i.activeTab}),onClick:t[8]||(t[8]=e=>r.setActiveTab("SentPost"))},"帖子发布",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"Category"===i.activeTab}),onClick:t[9]||(t[9]=e=>r.setActiveTab("Category"))},"帖子分类",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"ContributorsList"===i.activeTab}),onClick:t[10]||(t[10]=e=>r.setActiveTab("ContributorsList"))},"贡献榜单",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"home"===i.activeTab}),onClick:t[11]||(t[11]=(...e)=>r.GoToHome&&r.GoToHome(...e))},"返回首页",2)])])]),(0,n.Lk)("div",so,[(0,n.Lk)("button",{class:"user-button",onClick:t[12]||(t[12]=(...e)=>r.Gotouserpage&&r.Gotouserpage(...e))},oo)]),"PersonalCenter"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",io,[(0,n.Lk)("div",ro,[(0,n.Lk)("div",{class:"card",onClick:t[13]||(t[13]=e=>r.GotoPostDetil())},uo),(0,n.Lk)("div",{class:"card",onClick:t[14]||(t[14]=t=>e.GoToCultivation())},ko),(0,n.Lk)("div",{class:"card",onClick:t[15]||(t[15]=t=>e.GoToRecognition())},ho)])])):(0,n.Q3)("",!0),"Announcement"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",Lo,[bo,(0,n.Lk)("div",Co,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=t=>e.searchQuery=t),placeholder:"搜索你喜欢的帖子！",class:"information-input1"},null,512),[[s.Jo,e.searchQuery]]),(0,n.Lk)("button",{onClick:t[17]||(t[17]=(...t)=>e.searchDatabase&&e.searchDatabase(...t)),class:"information-button1"},"搜索")])])):(0,n.Q3)("",!0),"SentPost"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",fo,[(0,n.Lk)("div",Po,[wo,(0,n.Lk)("form",{onSubmit:t[21]||(t[21]=(0,s.D$)(((...e)=>r.submitPost&&r.submitPost(...e)),["prevent"]))},[(0,n.Lk)("div",yo,[Ao,(0,n.bo)((0,n.Lk)("input",{type:"text",id:"title","onUpdate:modelValue":t[18]||(t[18]=e=>i.title=e),class:"form-input",required:""},null,512),[[s.Jo,i.title]])]),(0,n.Lk)("div",Eo,[Uo,(0,n.bo)((0,n.Lk)("textarea",{id:"content","onUpdate:modelValue":t[19]||(t[19]=e=>i.content=e),class:"form-textarea",rows:"5",required:""},null,512),[[s.Jo,i.content]])]),(0,n.Lk)("div",To,[Qo,(0,n.Lk)("button",{type:"button",onClick:t[20]||(t[20]=(...e)=>r.discard&&r.discard(...e)),class:"btn-cancel"},"放弃")])],32)])])):(0,n.Q3)("",!0),"HotPosts"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",Io)):(0,n.Q3)("",!0),"ContributorsList"===i.activeTab?((0,n.uX)(),(0,n.CE)("div",Do,[Fo,(0,n.Lk)("ul",Xo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.paginatedContributors,((e,t)=>((0,n.uX)(),(0,n.CE)("li",{key:t,class:"contributor-item"},[(0,n.Lk)("span",xo,(0,h.v_)((i.currentPage-1)*i.itemsPerPage+t+1),1),(0,n.Lk)("span",Ro,(0,h.v_)(e.username),1),(0,n.Lk)("span",Vo,"贡献分数: "+(0,h.v_)(r.calculateContribution(e)),1)])))),128))]),(0,n.Lk)("div",Mo,[(0,n.Lk)("button",{onClick:t[22]||(t[22]=(...e)=>r.prevPage&&r.prevPage(...e)),disabled:1===i.currentPage},"上一页",8,Jo),(0,n.Lk)("span",null,"页码 "+(0,h.v_)(i.currentPage)+" / "+(0,h.v_)(r.totalPages),1),(0,n.Lk)("button",{onClick:t[23]||(t[23]=(...e)=>r.nextPage&&r.nextPage(...e)),disabled:i.currentPage===r.totalPages},"下一页",8,Bo)])])):(0,n.Q3)("",!0)]),Ho],64)}var Go={name:"Community",data(){return{buttonImageUrl:"../catalog/images/user_example.png",userName:"Wuhuairline",activeTab:"Announcement",isUserInfoVisible:!1,currentPage:1,itemsPerPage:5,contributors:[{username:"Alice",posts:10,comments:20},{username:"Bob",posts:5,comments:15},{username:"Charlie",posts:8,comments:30},{username:"David",posts:7,comments:12},{username:"David1",posts:7,comments:12},{username:"David2",posts:7,comments:12},{username:"David3",posts:7,comments:12},{username:"David4",posts:7,comments:12},{username:"David5",posts:7,comments:12},{username:"David6",posts:7,comments:12},{username:"David7",posts:7,comments:12},{username:"David8",posts:7,comments:12}],title:"",content:""}},mounted(){window.scrollTo(0,0),this.startCarousel()},computed:{...(0,c.L8)({currentUser:"getUserInfo",isAdmin:"isAdmin"}),paginatedContributors(){Math.ceil(this.contributors.length/this.itemsPerPage);const e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage,a=this.contributors.slice().sort(((e,t)=>this.calculateContribution(t)-this.calculateContribution(e)));return a.slice(e,t)},totalPages(){return Math.ceil(this.contributors.length/this.itemsPerPage)}},methods:{...(0,c.i0)(["logout"]),handleUserAvatarClick(){"guest"===this.currentUser.role?this.$router.push("/login"):this.goToUserProfile()},setActiveTab(e){this.activeTab=e},goToDetail(e){this.$router.push({name:"PostDetail",params:{id:e}})},startCarousel(){setInterval(this.nextSlide,3e3)},calculateContribution(e){return 5*e.posts+e.comments},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++},async submitPost(){try{await fetch("https://your-backend-api.com/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.title,content:this.content})}),alert("帖子已发布成功!"),this.clearForm()}catch(e){console.error("发布失败:",e),alert("发布失败，请稍后再试。")}},discard(){this.clearForm()},clearForm(){this.title="",this.content=""},Gotouserpage(){this.$router.push("/userprofile")},GotoPostDetil(){this.$router.push("/postDetail")},GoToHome(){this.$router.push("/home")}}};const Ko=(0,le.A)(Go,[["render",No],["__scopeId","data-v-2c173908"]]);var Zo=Ko;const So=e=>((0,n.Qi)("data-v-6e03a8e2"),e=e(),(0,n.jt)(),e),Oo={key:0,class:"container"},zo={class:"header"},jo=So((()=>(0,n.Lk)("div",{class:"logo"},"Flowers Whispering",-1))),Wo={class:"nav-user-container"},qo={class:"nav-links"},Yo={key:0},_o={class:"user-info"},$o={class:"user-avatar-wrapper"},ei=["src"],ti={class:"user-info-list"},ai={key:0},si={key:1},ni=So((()=>(0,n.Lk)("p",{class:"login-prompt"},"点击登录",-1))),oi=[ni],ii=So((()=>(0,n.Lk)("video",{autoplay:"",muted:"",loop:"",class:"background-video"},[(0,n.Lk)("source",{src:L,type:"video/mp4"})],-1))),ri={class:"content-wrapper"},li={class:"left-panel"},ci={class:"user-info-container"},ui=["src"],di=So((()=>(0,n.Lk)("div",{class:"avatar-overlay"},"更换头像",-1))),pi={class:"user-details"},mi={class:"form-group"},ki=So((()=>(0,n.Lk)("label",{for:"username"},"邮 箱：",-1))),gi={class:"editable-field-container"},vi={key:0},hi={key:2,class:"error-message"},Li={class:"form-group"},bi=So((()=>(0,n.Lk)("label",{for:"role"},"身 份：",-1))),Ci={class:"editable-field-container"},fi={class:"form-group"},Pi=So((()=>(0,n.Lk)("label",{for:"gender"},"性 别：",-1))),wi={class:"editable-field-container"},yi={key:0},Ai=So((()=>(0,n.Lk)("option",{value:"男"},"男",-1))),Ei=So((()=>(0,n.Lk)("option",{value:"女"},"女",-1))),Ui=So((()=>(0,n.Lk)("option",{value:"不愿透露"},"不愿透露",-1))),Ti=[Ai,Ei,Ui],Qi={class:"form-group"},Ii=So((()=>(0,n.Lk)("label",{for:"language"},"语言偏好：",-1))),Di={class:"editable-field-container"},Fi={key:0},Xi=So((()=>(0,n.Lk)("option",{value:"zh-CN"},"中文",-1))),xi=So((()=>(0,n.Lk)("option",{value:"EN"},"英文",-1))),Ri=[Xi,xi],Vi={class:"form-group"},Mi=So((()=>(0,n.Lk)("label",{for:"email"},"邮 箱：",-1))),Ji={class:"editable-field-container"},Bi={key:0},Hi={key:2,class:"error-message"},Ni={class:"form-group"},Gi=So((()=>(0,n.Lk)("label",{for:"bio"},"简 介：",-1))),Ki={class:"editable-field-container"},Zi={key:0},Si={class:"form-group"},Oi=So((()=>(0,n.Lk)("label",{for:"registrationDate"},"注册时间：",-1))),zi={class:"editable-field-container"},ji={class:"edit-button-container"},Wi={key:1,class:"edit-actions"},qi={class:"logout-button-container"},Yi={class:"right-panel"},_i=["onClick"],$i={class:"post-title"},er={class:"post-content"},tr={class:"post-meta"},ar={key:0},sr={key:1},nr=["onClick"],or={key:0,class:"confirm-dialog"},ir={class:"confirm-dialog-content"},rr=So((()=>(0,n.Lk)("p",null,"确定要删除该帖子吗？",-1))),lr={key:0,class:"post-dialog"},cr={class:"post-dialog-content"},ur={class:"post-dialog-header"},dr={class:"post-dialog-body"},pr={class:"post-dialog-footer"},mr=So((()=>(0,n.Lk)("p",null,"评论区：",-1))),kr={key:1,class:"password-dialog-overlay"},gr={class:"password-dialog"},vr=So((()=>(0,n.Lk)("h3",null,"修改账户密码",-1))),hr={class:"form-group"},Lr=So((()=>(0,n.Lk)("label",{for:"old-password"},"旧密码：",-1))),br={class:"form-group"},Cr=So((()=>(0,n.Lk)("label",{for:"new-password"},"新密码：",-1))),fr={class:"form-group"},Pr=So((()=>(0,n.Lk)("label",{for:"confirm-password"},"确认新密码：",-1))),wr={key:0,class:"error-message"},yr={class:"dialog-actions"},Ar={key:2,class:"avatar-selection-overlay"},Er={class:"avatar-selection-container"},Ur=So((()=>(0,n.Lk)("h3",null,"选择头像",-1))),Tr={class:"avatar-grid"},Qr=["onClick"],Ir=["src"],Dr={key:0,class:"checkmark"},Fr={class:"edit-actions"},Xr=(0,n.Fv)('<footer class="footer" data-v-6e03a8e2><p class="left" data-v-6e03a8e2><a href="contact.html" data-v-6e03a8e2>联系我们</a></p><div class="center" data-v-6e03a8e2><span data-v-6e03a8e2>© 2024 Flowers Whisperin    </span><a href="https://beian.miit.gov.cn/" target="_blank" data-v-6e03a8e2>豫ICP备2024087175号-1</a></div><div class="right" data-v-6e03a8e2></div></footer>',1),xr={key:1};function Rr(e,t,a,o,i,r){return e.currentUser?((0,n.uX)(),(0,n.CE)("div",Oo,[(0,n.Lk)("header",zo,[jo,(0,n.Lk)("div",Wo,[(0,n.Lk)("nav",qo,["admin"===e.currentUser.role?((0,n.uX)(),(0,n.CE)("nav",Yo,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.goToAdminPanel&&r.goToAdminPanel(...e)),class:"nav-button"},"管理")])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>r.goHome&&r.goHome(...e)),class:"nav-button"},"首页"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>r.goToCommunity&&r.goToCommunity(...e)),class:"nav-button"},"社区"),(0,n.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>r.goToCatalog&&r.goToCatalog(...e)),class:"nav-button"},"图鉴")]),(0,n.Lk)("div",_o,[(0,n.Lk)("div",$o,[(0,n.Lk)("img",{src:e.currentUser.avatar,alt:"User Avatar",onClick:t[4]||(t[4]=(...e)=>r.handleUserAvatarClick&&r.handleUserAvatarClick(...e))},null,8,ei),(0,n.Lk)("div",ti,["guest"!==e.currentUser.role?((0,n.uX)(),(0,n.CE)("div",ai,[(0,n.Lk)("p",null,"用户名: "+(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("p",null,"邮箱: "+(0,h.v_)(e.currentUser.email),1),(0,n.Lk)("p",null,"角色: "+(0,h.v_)(e.currentUser.userRole),1)])):((0,n.uX)(),(0,n.CE)("div",si,oi))])])])])]),ii,(0,n.Lk)("div",ri,[(0,n.Lk)("div",li,[(0,n.Lk)("div",ci,[(0,n.Lk)("div",{class:"avatar-container",onClick:t[6]||(t[6]=(...e)=>r.openAvatarSelection&&r.openAvatarSelection(...e))},[(0,n.Lk)("img",{src:e.currentUser.avatar,alt:"用户头像",class:"avatar"},null,8,ui),di,(0,n.Lk)("input",{type:"file",ref:"fileInput",onChange:t[5]||(t[5]=(...e)=>r.handleFileUpload&&r.handleFileUpload(...e)),accept:"image/*",style:{display:"none"}},null,544)]),(0,n.Lk)("div",pi,[(0,n.Lk)("div",mi,[ki,(0,n.Lk)("div",gi,[i.editing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",vi,(0,h.v_)(e.currentUser.username),1)),i.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:1,type:"username","onUpdate:modelValue":t[7]||(t[7]=e=>i.userTemp.username=e),onInput:t[8]||(t[8]=(...e)=>r.validateUsername&&r.validateUsername(...e)),class:"fixed-input"},null,544)),[[s.Jo,i.userTemp.username]]):(0,n.Q3)("",!0),i.usernameError?((0,n.uX)(),(0,n.CE)("p",hi,(0,h.v_)(i.usernameError),1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Li,[bi,(0,n.Lk)("div",Ci,[(0,n.Lk)("span",null,(0,h.v_)("user"==e.currentUser.userRole?"普通用户":"管理员"),1)])]),(0,n.Lk)("div",fi,[Pi,(0,n.Lk)("div",wi,[i.editing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",yi,(0,h.v_)(e.currentUser.gender),1)),i.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:1,"onUpdate:modelValue":t[9]||(t[9]=e=>i.userTemp.gender=e),class:"fixed-input"},Ti,512)),[[s.u1,i.userTemp.gender]]):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Qi,[Ii,(0,n.Lk)("div",Di,[i.editing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",Fi,(0,h.v_)("zh-CN"==e.currentUser.languagePreference?"中文":"英文"),1)),i.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("select",{key:1,"onUpdate:modelValue":t[10]||(t[10]=e=>i.userTemp.languagePreference=e),class:"fixed-input"},Ri,512)),[[s.u1,i.userTemp.languagePreference]]):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Vi,[Mi,(0,n.Lk)("div",Ji,[i.editing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",Bi,(0,h.v_)(e.currentUser.email),1)),i.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("input",{key:1,type:"email","onUpdate:modelValue":t[11]||(t[11]=e=>i.userTemp.email=e),onInput:t[12]||(t[12]=(...e)=>r.validateEmail&&r.validateEmail(...e)),class:"fixed-input"},null,544)),[[s.Jo,i.userTemp.email]]):(0,n.Q3)("",!0),i.emailError?((0,n.uX)(),(0,n.CE)("p",Hi,(0,h.v_)(i.emailError),1)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",Ni,[Gi,(0,n.Lk)("div",Ki,[i.editing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",Zi,(0,h.v_)(e.currentUser.bio),1)),i.editing?(0,n.bo)(((0,n.uX)(),(0,n.CE)("textarea",{key:1,id:"bio","onUpdate:modelValue":t[13]||(t[13]=e=>i.userTemp.bio=e),class:"fixed-input"},null,512)),[[s.Jo,i.userTemp.bio]]):(0,n.Q3)("",!0)])])]),(0,n.Lk)("div",Si,[Oi,(0,n.Lk)("div",zi,[(0,n.Lk)("span",null,(0,h.v_)(e.currentUser.registrationTime),1)])]),(0,n.Lk)("div",ji,[i.editing?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,class:"edit-button",onClick:t[14]||(t[14]=(...e)=>r.editUserInfo&&r.editUserInfo(...e))},"编辑个人信息")),i.editing?((0,n.uX)(),(0,n.CE)("div",Wi,[(0,n.Lk)("button",{class:"confirm-button",onClick:t[15]||(t[15]=(...e)=>r.confirmEdit&&r.confirmEdit(...e))},"确认"),(0,n.Lk)("button",{class:"cancel-button",onClick:t[16]||(t[16]=(...e)=>r.cancelEdit&&r.cancelEdit(...e))},"取消")])):(0,n.Q3)("",!0)]),(0,n.Lk)("button",{class:"change-password-button",onClick:t[17]||(t[17]=e=>i.showChangePasswordDialog=!0)},"修改账户密码"),(0,n.Lk)("div",qi,[(0,n.Lk)("button",{class:"logout-button",onClick:t[18]||(t[18]=(...e)=>r.performLogout&&r.performLogout(...e))},"退出登录")])])]),(0,n.Lk)("div",Yi,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.posts,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.article_id,class:"post",onClick:t=>r.openPostDialog(e)},[(0,n.Lk)("h3",$i,(0,h.v_)(e.article_title),1),(0,n.Lk)("p",er,(0,h.v_)(e.article_content),1),(0,n.Lk)("p",tr,[(0,n.eW)(" 发布日期: "+(0,h.v_)(e.published_date)+" ",1),"announcement"===e.article_type?((0,n.uX)(),(0,n.CE)("span",ar," | 类型: 公告")):((0,n.uX)(),(0,n.CE)("span",sr," | 类型: 文章"))]),(0,n.Lk)("button",{class:"delete-button",onClick:(0,s.D$)((t=>r.confirmDelete(e)),["stop"])},"删除",8,nr)],8,_i)))),128)),i.showConfirmDialog?((0,n.uX)(),(0,n.CE)("div",or,[(0,n.Lk)("div",ir,[rr,(0,n.Lk)("button",{onClick:t[19]||(t[19]=e=>r.deletePost(i.selectedPost))},"确认"),(0,n.Lk)("button",{onClick:t[20]||(t[20]=(...e)=>r.cancelDelete&&r.cancelDelete(...e))},"取消")])])):(0,n.Q3)("",!0)])]),i.showPostDialog?((0,n.uX)(),(0,n.CE)("div",lr,[(0,n.Lk)("div",cr,[(0,n.Lk)("div",ur,[(0,n.Lk)("h3",null,(0,h.v_)(i.selectedPost.article_title),1),(0,n.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>r.closePostDialog&&r.closePostDialog(...e)),class:"close-button"},"×")]),(0,n.Lk)("div",dr,[(0,n.Lk)("p",null,(0,h.v_)(i.selectedPost.article_content),1)]),(0,n.Lk)("div",pr,[mr,(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.comments,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id},(0,h.v_)(e.text),1)))),128))])])])])):(0,n.Q3)("",!0),i.showChangePasswordDialog?((0,n.uX)(),(0,n.CE)("div",kr,[(0,n.Lk)("div",gr,[vr,(0,n.Lk)("div",hr,[Lr,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"old-password","onUpdate:modelValue":t[22]||(t[22]=e=>i.oldPassword=e)},null,512),[[s.Jo,i.oldPassword]])]),(0,n.Lk)("div",br,[Cr,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"new-password","onUpdate:modelValue":t[23]||(t[23]=e=>i.newPassword=e)},null,512),[[s.Jo,i.newPassword]])]),(0,n.Lk)("div",fr,[Pr,(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirm-password","onUpdate:modelValue":t[24]||(t[24]=e=>i.confirmPassword=e)},null,512),[[s.Jo,i.confirmPassword]])]),i.passwordError?((0,n.uX)(),(0,n.CE)("p",wr,(0,h.v_)(i.passwordError),1)):(0,n.Q3)("",!0),(0,n.Lk)("div",yr,[(0,n.Lk)("button",{class:"confirm-button",onClick:t[25]||(t[25]=(...e)=>r.confirmChangePassword&&r.confirmChangePassword(...e))},"确认"),(0,n.Lk)("button",{class:"cancel-button",onClick:t[26]||(t[26]=(...e)=>r.cancelChangePassword&&r.cancelChangePassword(...e))},"取消")])])])):(0,n.Q3)("",!0),e.showAvatarSelection?((0,n.uX)(),(0,n.CE)("div",Ar,[(0,n.Lk)("div",Er,[Ur,(0,n.Lk)("div",Tr,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.avatarOptions,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:(0,h.C4)({"avatar-option":!0,selected:e.selectedAvatar===t}),onClick:a=>e.selectAvatar(t)},[(0,n.Lk)("img",{src:t,class:"avatar-image"},null,8,Ir),e.selectedAvatar===t?((0,n.uX)(),(0,n.CE)("div",Dr,"✔")):(0,n.Q3)("",!0)],10,Qr)))),128))]),(0,n.Lk)("div",Fr,[(0,n.Lk)("button",{class:"confirm-button",onClick:t[27]||(t[27]=(...t)=>e.confirmAvatar&&e.confirmAvatar(...t))},"确认"),(0,n.Lk)("button",{class:"cancel-button",onClick:t[28]||(t[28]=(...t)=>e.cancelAvatarSelection&&e.cancelAvatarSelection(...t))},"取消")])])])):(0,n.Q3)("",!0),Xr])):((0,n.uX)(),(0,n.CE)("div",xr," 加载中... "))}var Vr={computed:{...(0,c.L8)({currentUser:"getUserInfo",isAdmin:"isAdmin",userAvatar:"userAvatar",isAuthenticated:"isAuthenticated"})},data(){return{posts:[{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:2,article_title:"示例公告",article_content:"这是一个公告类型的帖子，展示如何处理公告。",publisher_id:2,published_date:"2024-09-03",article_type:"announcement"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"},{article_id:1,article_title:"示例帖子1",article_content:"这是第一个示例帖子的内容,展示数据库",publisher_id:1,published_date:"2024-09-04",article_type:"article"}],showChangePasswordDialog:!1,passwordError:"",oldPassword:"",newPassword:"",confirmPassword:"",showPostDialog:!1,showConfirmDialog:!1,selectedPost:null,comments:[],userTemp:{},editing:!1,emailError:null,usernameError:null}},methods:{...(0,c.i0)({logout:"logout",setAvatar:"setAvatar",updateUserInfo:"updateUserInfo"}),editUserInfo(){this.userTemp={...this.currentUser},this.editing=!0},validateUsername(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.test(this.userTemp.username)?this.usernameError="用户名不能是邮箱格式":this.usernameError=null},validateEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.test(this.userTemp.email)?this.emailError=null:this.emailError="请输入有效的邮箱地址"},async confirmEdit(){if(!this.emailError&&!this.usernameError&&this.editing)try{await this.updateUserInfo({username:this.userTemp.username,email:this.userTemp.email,password:this.userTemp.password,languagePreference:this.userTemp.languagePreference,bio:this.userTemp.bio,avatar:this.userTemp.avatar,gender:this.userTemp.gender}),this.editing=!1}catch(e){console.error("更新失败:",e),alert("更新用户信息失败，请稍后重试。")}},toggleUserMenu(){this.showUserMenu=!this.showUserMenu},handleUserAvatarClick(){"guest"===this.currentUser.role?this.$router.push("/login"):this.goToUserProfile()},cancelEdit(){this.editing=!1,this.emailError=null},openAvatarSelection(){this.$refs.fileInput.click()},handleFileUpload(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.selectedAvatar=e.target.result,this.updateUserAvatar()},e.readAsDataURL(t)}},async updateUserAvatar(){try{await this.updateUserInfo({username:this.currentUser.username,email:this.currentUser.email,password:this.currentUser.password,languagePreference:this.currentUser.languagePreference,bio:this.currentUser.bio,avatar:this.selectedAvatar,gender:this.currentUser.gender})}catch(e){console.error("更新头像失败:",e),alert("更新头像失败，请稍后再试。")}},goToCatalog(){this.$router.push("/catalog")},goToCommunity(){this.$router.push("/community")},goToAdminPanel(){this.$router.push("/adminpanel")},goHome(){this.$router.push("/home")},performLogout(){this.logout(),this.$router.push("/login")},goToUserProfile(){this.$router.push("/userprofile")},confirmDelete(e){this.selectedPost=e,this.showConfirmDialog=!0},deletePost(e){this.posts=this.posts.filter((t=>t.article_id!==e.article_id)),this.showConfirmDialog=!1,this.selectedPost=null},cancelDelete(){this.showConfirmDialog=!1,this.selectedPost=null},openPostDialog(e){this.selectedPost=e,this.comments=[{id:1,text:"这是第一条评论！"},{id:2,text:"非常有趣的帖子，期待更多！"},{id:2,text:"非常有趣的帖子，期待更多！"},{id:2,text:"非常有趣的帖子，期待更多！"},{id:2,text:"非常有趣的帖子，期待更多！"},{id:2,text:"非常有趣的帖子，期待更多！"},{id:2,text:"非常有趣的帖子，期待更多！"}],this.showPostDialog=!0},closePostDialog(){this.showPostDialog=!1,this.selectedPost=null},async confirmChangePassword(){if(this.passwordError="",this.newPassword===this.confirmPassword)if(this.oldPassword===this.currentUser.password)if(this.newPassword!==this.oldPassword)if(this.newPassword.length<8||this.newPassword.length>20)this.passwordError="新密码长度应为 8 到 20 位";else try{await this.updateUserInfo({username:this.currentUser.username,email:this.currentUser.email,password:this.newPassword,languagePreference:this.currentUser.languagePreference,bio:this.currentUser.bio,avatar:this.currentUser.avatar,gender:this.currentUser.gender}),alert("密码修改成功"),this.cancelChangePassword()}catch(e){console.error("更新密码失败:",e),alert("更新密码失败，请稍后再试")}else this.passwordError="新密码不能与旧密码相同";else this.passwordError="旧密码不正确";else this.passwordError="新密码与确认密码不匹配"},cancelChangePassword(){this.showChangePasswordDialog=!1,this.oldPassword="",this.newPassword="",this.confirmPassword="",this.passwordError=""}}};const Mr=(0,le.A)(Vr,[["render",Rr],["__scopeId","data-v-6e03a8e2"]]);var Jr=Mr;const Br=e=>((0,n.Qi)("data-v-619d5202"),e=e(),(0,n.jt)(),e),Hr={class:"header"},Nr=Br((()=>(0,n.Lk)("div",{class:"logo"},"Flowers Whispering",-1))),Gr={class:"nav-user-container"},Kr={class:"nav-links"},Zr={class:"user-info"},Sr={class:"user-avatar-wrapper"},Or=["src"],zr={class:"user-info-list"},jr={key:0},Wr=Br((()=>(0,n.Lk)("div",{class:"book-background"},[(0,n.Lk)("div",{id:"videoContainer"},[(0,n.Lk)("video",{class:"fullscreenVideo",id:"kotoba",playsinline:"",autoplay:"",muted:"",loop:""},[(0,n.Lk)("source",{src:L,type:"video/mp4"})])])],-1))),qr={class:"user-interfacer"},Yr={class:"side-bar"},_r={class:"user-info"},$r={class:"user-name"},el={class:"tabs"},tl={class:"top-banner"},al=Br((()=>(0,n.Lk)("img",{src:Vn,alt:"User"},null,-1))),sl=Br((()=>(0,n.Lk)("span",{class:"tooltip"},"个人中心",-1))),nl=[al,sl],ol={key:0},il={key:1},rl=(0,n.Fv)('<footer class="footer" data-v-619d5202><p class="left" data-v-619d5202><a href="contact.html" data-v-619d5202>联系我们</a></p><p class="center" data-v-619d5202>© 2024 Flowers Whispering</p><div class="right" data-v-619d5202></div></footer>',1);function ll(e,t,a,s,o,i){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("header",Hr,[Nr,(0,n.Lk)("div",Gr,[(0,n.Lk)("nav",Kr,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.goToHome&&e.goToHome(...t)),class:"nav-button"},"首页"),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.goToCommunity&&i.goToCommunity(...e)),class:"nav-button"},"社区"),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...t)=>e.goToCatalog&&e.goToCatalog(...t)),class:"nav-button"},"图鉴")]),(0,n.Lk)("div",Zr,[(0,n.Lk)("div",Sr,[(0,n.Lk)("img",{src:e.userAvatar,alt:"User Avatar",onClick:t[3]||(t[3]=(...e)=>i.handleUserAvatarClick&&i.handleUserAvatarClick(...e))},null,8,Or),(0,n.Lk)("div",zr,["guest"!==e.currentUser.role?((0,n.uX)(),(0,n.CE)("div",jr,[(0,n.Lk)("p",null,"用户名: "+(0,h.v_)(e.currentUser.username),1),(0,n.Lk)("p",null,"邮箱: "+(0,h.v_)(e.currentUser.email),1),(0,n.Lk)("p",null,"角色: "+(0,h.v_)(e.currentUser.userRole),1)])):(0,n.Q3)("",!0)])])])])]),Wr,(0,n.Lk)("div",qr,[(0,n.Lk)("div",Yr,[(0,n.Lk)("div",_r,[(0,n.Lk)("p",$r,(0,h.v_)(o.userName),1),(0,n.Lk)("div",el,[(0,n.Lk)("button",{class:(0,h.C4)({active:"Mypost"===o.activeTab}),onClick:t[4]||(t[4]=e=>i.setActiveTab("Mypost"))},"我的帖子",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"Mycomment"===o.activeTab}),onClick:t[5]||(t[5]=e=>i.setActiveTab("Mycomment"))},"我的评论",2),(0,n.Lk)("button",{class:(0,h.C4)({active:"home"===o.activeTab}),onClick:t[6]||(t[6]=(...e)=>i.goToCommunity&&i.goToCommunity(...e))},"返回上步",2)])])]),(0,n.Lk)("div",tl,[(0,n.Lk)("button",{class:"user-button",onClick:t[7]||(t[7]=(...t)=>e.GotoPersonalCenter&&e.GotoPersonalCenter(...t))},nl)]),"HotPosts"===o.activeTab?((0,n.uX)(),(0,n.CE)("div",ol)):(0,n.Q3)("",!0),"HotPosts"===o.activeTab?((0,n.uX)(),(0,n.CE)("div",il)):(0,n.Q3)("",!0)]),rl],64)}var cl={name:"Community",data(){return{buttonImageUrl:"../catalog/images/user_example.png",userName:"Wuhuairline",activeTab:"Mypost",isUserInfoVisible:!1}},mounted(){window.scrollTo(0,0)},computed:{...(0,c.L8)({currentUser:"getUserInfo",isAdmin:"isAdmin"})},methods:{...(0,c.i0)(["logout"]),handleUserAvatarClick(){"guest"===this.currentUser.role?this.$router.push("/login"):this.goToUserProfile()},setActiveTab(e){this.activeTab=e},Gotouserpage(){this.$router.push("/userprofile")},GotoPostDetil(){this.$router.push("/postDetail")},goToCommunity(){this.$router.push("/community")},GoToHome(){this.$router.push("/home")}}};const ul=(0,le.A)(cl,[["render",ll],["__scopeId","data-v-619d5202"]]);var dl=ul;const pl=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:Re},{path:"/catalog",name:"Catalog",component:Ka,meta:{requiresAuth:!0}},{path:"/search",name:"Search",component:Ds,meta:{requiresAuth:!0}},{path:"/information",name:"Information",component:sn,meta:{requiresAuth:!0}},{path:"/FindError",name:"FindError",component:Pn,meta:{requiresAuth:!0}},{path:"/Contribution",name:"Contribution",component:Rn,meta:{requiresAuth:!0}},{path:"/community",name:"Community",component:Zo,meta:{requiresAuth:!0}},{path:"/userprofile",name:"UserProfile",component:Jr,meta:{requiresAuth:!0}},{path:"/postDetail",name:"PostDetail",component:dl,meta:{requiresAuth:!0}},{path:"/home",name:"Home",component:ue,meta:{requiresAuth:!0}},{path:"/adminpanel",name:"AdminPanel",component:pa,meta:{requiresAuth:!0,requiresAdmin:!0}}],ml=(0,l.aE)({history:(0,l.LA)("/"),routes:pl});ml.beforeEach(((e,t,a)=>{e.matched.some((e=>e.meta.requiresAuth))?v.getters.isAuthenticated?e.matched.some((e=>e.meta.requiresAdmin))?v.getters.isAdmin?a():(alert("您无权访问该页面。"),a({name:"Home"})):a():(alert("请先登录!"),a({name:"Login"})):a()}));var kl=ml,gl=a(595),vl=a(6762);a(6263);v.dispatch("restoreState");const hl=(0,s.Ef)(r);hl.config.globalProperties.emitter=(0,gl.A)(),hl.use(kl),hl.use(vl.A),hl.use(v),hl.mount("#app")},5323:function(e,t,a){e.exports=a.p+"img/plant_example.347c2e44.jpg"},6873:function(e,t,a){e.exports=a.p+"img/user-avatar.597b32ab.jpg"}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,s,n,o){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],o=e[u][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,i=s[0],r=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var u=l(a)}for(t&&t(s);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},s=self["webpackChunkflowerswhispering"]=self["webpackChunkflowerswhispering"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(6043)}));s=a.O(s)})();
//# sourceMappingURL=app.612095aa.js.map